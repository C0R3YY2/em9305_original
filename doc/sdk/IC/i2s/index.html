<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>I2S Driver &mdash; EM9305 4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=665bc78d" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=0cd558ae"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PML Driver" href="../pml/index.html" />
    <link rel="prev" title="I2C Master Driver" href="../i2c/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo_h_small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../ReleaseNotes.html">emb Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/MigrationGuide.html">Migration guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/IDEIntegration.html">MetaWare IDE Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/CMakeBuild.html">CMake and build procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/rom.html">ROM Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/Bluetooth.html">Bluetooth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../emcore/index.html">EM-Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/FirmwareUpdate.html">Firmware Update</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/Lifecycle.html">EM9305 Lifecycle Control</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../API.html#rom-apis">ROM APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../API.html#sdk-driver-apis">SDK Driver APIs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../adc/index.html">ADC Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aoad/index.html">AOAD Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dma/index.html">DMA Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../em_hw_api/index.html">Interrupt management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpio/index.html">GPIO Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../i2c/index.html">I2C Master Driver</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">I2S Driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hal-api">HAL API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-log">Change Log</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pml/index.html">PML Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../protocol_timer/index.html">Protocol Timer Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../qdec/index.html">QDEC Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../radio/index.html">Radio Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rtc/index.html">RTC Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spi_master/index.html">SPI Master Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spi_slave/index.html">SPI Slave Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../temperature_indicator/index.html">Temperature Indicator Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uart/index.html">UART Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../unitimer/index.html">Unitimer Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../watchdog/index.html">Watchdog Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#sdk-libraries-apis">SDK Libraries APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../API.html#third-party-libraries-apis">Third Party Libraries APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Examples.html">Sample Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/Links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/ApplicationNotes.html">Application Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/HowTo.html">How to</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sections/Limitations.html">Known limitations &amp; constraints</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EM9305</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../API.html">API</a></li>
      <li class="breadcrumb-item active">I2S Driver</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="i2s-driver">
<h1>I2S Driver<a class="headerlink" href="#i2s-driver" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The EM9305 has an I2S peripheral that can be used for audio and other applications where a signal needs to be captured or rendered in real time.</p>
<p>Similar to the SPI interface, I2S is a synchronous interface that uses a data bus and a clock bus. However, because the data being transmitted is
typically an audio signal that must be rendered in real time, and typically contains one or more channels, a frame bus is used to add synchronization
information. The way it is used depends on the protocol. In I2S, the falling edge of the frame signal marks the beginning of channel 0, while the
rising edge marks the beginning of channel 1. In TDM (Time Division Multiplexing), the frame signal is just a pulse, typically one serial clock,
indicating the start of channel transmission. When bidirectional audio must be transmitted, two data buses are used, one for each direction.</p>
<p>The I2S peripheral is also capable of generating a master clock (MCLK), which is sometimes required by audio peripherals that have no internal clock
generation.</p>
<p>The driver uses DMA together with the I2S peripheral to avoid using the CPU for buffer transfers from RAM to I2S and I2S to RAM. Before starting the
driver, the software must first program the I2S transactions that define the memory blocks that will be used to send and receive I2S buffers.
Once started, the driver runs autonomously on the programmed buffers, thanks to linked DMA operations, meaning that the software doesn’t need to restart
a transaction after the last one has finished. This mechanism makes the driver less affected by real-time requirements; the software basically has the
time of a transaction to process the free buffer.</p>
<p>The driver communicates with the user application using callback functions capable of handling events.</p>
<section id="protocols">
<h3>Protocols<a class="headerlink" href="#protocols" title="Link to this heading"></a></h3>
<p>The I2S peripheral can be configured to work with several protocols, which are :</p>
<ul class="simple">
<li><p>I2S</p></li>
<li><p>TDM</p></li>
<li><p>Left justified</p></li>
<li><p>Right justified</p></li>
<li><p>TDM-I2S</p></li>
</ul>
<p>These protocols can be configured at startup using the configuration structure. The driver is designed to give the user maximum flexibility when changing
the sample rate, sample size, or number of audio channels. However, the driver is designed in such a way that the protocol to be used must be defined in
the NVM_ConfigModules() function and can’t be changed at runtime.</p>
</section>
<section id="i2s-configuration-structure">
<h3>I2S configuration structure<a class="headerlink" href="#i2s-configuration-structure" title="Link to this heading"></a></h3>
<p>The I2S module is configured using the gI2S_Config structure. The default configuration is shown below:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Default I2S configuration</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 50.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>enabled</p></td>
<td><p>I2S module enable/disable</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-odd"><td><p>gpioSclk</p></td>
<td><p>Serial clock GPIO</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>gpioSdataOut</p></td>
<td><p>Serial data out GPIO</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-odd"><td><p>gpioSdataIn</p></td>
<td><p>Serial data in GPIO</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-even"><td><p>gpioFsync</p></td>
<td><p>Frame sync GPIO</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>gpioMclk</p></td>
<td><p>Master clock GPIO</p></td>
<td><p>0xFF (not used)</p></td>
</tr>
<tr class="row-even"><td><p>transactionDepth</p></td>
<td><div class="line-block">
<div class="line">The size of the transaction</div>
<div class="line">queue</div>
</div>
</td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>autoClk</p></td>
<td><div class="line-block">
<div class="line">Let the driver manage the</div>
<div class="line">clocks automatically</div>
</div>
</td>
<td><p>true</p></td>
</tr>
<tr class="row-even"><td><p>config.bits.protocol</p></td>
<td><p>The protocol</p></td>
<td><p>I2S_PROTOCOL_I2S</p></td>
</tr>
<tr class="row-odd"><td><p>config.bits.mode</p></td>
<td><p>The mode</p></td>
<td><p>I2S_MASTER_MODE</p></td>
</tr>
<tr class="row-even"><td><p>config.bits.cpha</p></td>
<td><p>Clock phase of SCLK</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>config.bits.fsyncPolarity</p></td>
<td><p>Fsync active polarity</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">config.bits.</div>
<div class="line">phaseLengthMode</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Phase0 length mode</div>
<div class="line">configuration</div>
</div>
</td>
<td><p>I2S_PHASE0_LENGTH_FSYNC_EDGE</p></td>
</tr>
<tr class="row-odd"><td><p>config.bits.lsbitFirst</p></td>
<td><p>Send least significant bit first</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>config.bits.lsbyteFirst</p></td>
<td><p>Send least significant byte first</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>config.bits.I2sSignExtendEn</p></td>
<td><div class="line-block">
<div class="line">Enable sign extension for 12 and</div>
<div class="line">20 bits sample sizes</div>
</div>
</td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>phase0.bits.delay</p></td>
<td><div class="line-block">
<div class="line">Delay between start of phase 0</div>
<div class="line">and first data bit</div>
</div>
</td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>phase0.bits.sampleSize</p></td>
<td><p>Phase 0 audio sample size</p></td>
<td><p>I2S_SAMPLE_FORMAT_16BIT</p></td>
</tr>
<tr class="row-even"><td><p>phase1.bits.delay</p></td>
<td><div class="line-block">
<div class="line">Delay between start of phase 1</div>
<div class="line">and first data bit</div>
</div>
</td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>phase1.bits.sampleSize</p></td>
<td><p>Phase 1 audio sample size</p></td>
<td><p>I2S_SAMPLE_FORMAT_16BIT</p></td>
</tr>
<tr class="row-even"><td><p>transferMode</p></td>
<td><p>Transfer mode</p></td>
<td><p>I2S_TX_RX</p></td>
</tr>
<tr class="row-odd"><td><p>phase0TxChannels</p></td>
<td><p>Phase 0 number of TX channels</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>phase1TxChannels</p></td>
<td><p>Phase 1 number of TX channels</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>phase0RxChannels</p></td>
<td><p>Phase 0 number of RX channels</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>phase1RxChannels</p></td>
<td><p>Phase 1 number of RX channels</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>samplingRate</p></td>
<td><p>Sampling rate</p></td>
<td><p>I2S_SAMPLE_RATE_44KHZ</p></td>
</tr>
<tr class="row-even"><td><p>serialClockRatio</p></td>
<td><div class="line-block">
<div class="line">Serial clock ratio with</div>
<div class="line">samplingRate</div>
</div>
</td>
<td><p>64</p></td>
</tr>
<tr class="row-odd"><td><p>masterClockRatio</p></td>
<td><div class="line-block">
<div class="line">Master clock ratio with</div>
<div class="line">samplingRate</div>
</div>
</td>
<td><p>512</p></td>
</tr>
<tr class="row-even"><td><p>phase0Length</p></td>
<td><div class="line-block">
<div class="line">Phase 0 length when</div>
<div class="line">configured by software</div>
</div>
</td>
<td><p>32</p></td>
</tr>
<tr class="row-odd"><td><p>fsyncLength</p></td>
<td><p>Fsync length</p></td>
<td><p>32</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The I2S configuration structure is in non-persistent memory and is lost during sleep. More on that below.</p>
</div>
<p>The default configuration must be changed using the NVM_ConfigModules() function. Since this function is called every time the system wakes up,
it will be automatically re-configured with the user parameters. Below is an example of how to access it and change some parameters :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;i2s.h&quot;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">NVM_ConfigModules</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>

<span class="w">    </span><span class="c1">//...</span>

<span class="w">    </span><span class="c1">// Register I2S module</span>
<span class="w">    </span><span class="n">I2S_RegisterModule</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Enable I2S</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// I2S GPIO configuration</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8u</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSdataOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9u</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSdataIn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9u</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioFsync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10u</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioMclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11u</span><span class="p">;</span>

<span class="w">    </span><span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="configuration-examples">
<h3>Configuration examples<a class="headerlink" href="#configuration-examples" title="Link to this heading"></a></h3>
<p>Below are some examples of how to configure different protocols and explanations about the parameters.</p>
<p><strong>I2S Protocol</strong></p>
<p>The configuration below can be used to achieve the result shown in this image :</p>
<a class="reference internal image-reference" href="../../_images/i2s.png"><img alt="I2S signals" class="align-center" src="../../_images/i2s.png" style="width: 671.0px; height: 331.5px;" /></a>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">NVM_ConfigModules</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Register and enable I2S module</span>
<span class="w">    </span><span class="n">I2S_RegisterModule</span><span class="p">();</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// I2S GPIO configuration</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7u</span><span class="p">;</span><span class="w">     </span><span class="c1">// Serial / bit clock</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSdataOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8u</span><span class="p">;</span><span class="w"> </span><span class="c1">// Data output gpio (not used in input mode)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSdataIn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9u</span><span class="p">;</span><span class="w">  </span><span class="c1">// Data input gpio (not used in output mode)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioFsync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10u</span><span class="p">;</span><span class="w">   </span><span class="c1">// Frame / synchronization signal</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioMclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11u</span><span class="p">;</span><span class="w">    </span><span class="c1">// Master clock signal (0xFF if not used)</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PROTOCOL_I2S</span><span class="p">;</span><span class="w">    </span><span class="c1">// Configure for I2S protocol</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_MASTER_MODE</span><span class="p">;</span><span class="w">         </span><span class="c1">// Our device is the master (it will generate the clocks)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">cpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                       </span><span class="c1">// I2S polarity: capture at rising edge</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">fsyncPolarity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">              </span><span class="c1">// I2S polarity: low is channel 0 / left channel</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">phaseLengthMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PHASE0_LENGTH_FSYNC_EDGE</span><span class="p">;</span><span class="w"> </span><span class="c1">// Phase transition occurs at fsync edge</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">transferMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_TX_RX</span><span class="p">;</span><span class="w">   </span><span class="c1">// Configure for bidirectional transfer (output and input gpio are used)</span>

<span class="w">    </span><span class="c1">// Configuration for phase 0</span>
<span class="w">    </span><span class="c1">// In I2S protocol, phase 0 is used to transmit the channel 0 sample</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// The sample transmission starts one bit clock after the beginning of the phase</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">sampleSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_FORMAT_16BIT</span><span class="p">;</span><span class="w"> </span><span class="c1">// 16 bits sample format</span>

<span class="w">    </span><span class="c1">// Configuration for phase 1</span>
<span class="w">    </span><span class="c1">// Use the same configuration as for phase 0</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">sampleSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_FORMAT_16BIT</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Configure the number of channels to send and receive for phase 0</span>
<span class="w">    </span><span class="c1">// For stereo (2 channels) and bidirectional operation, there is one channel by phase and by direction</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0TxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0RxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Configure the number of channels to send and receive for phase 1</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1TxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1RxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Set default sampling rate, this is the frame signal frequency</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">samplingRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_RATE_44KHZ</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// The serial clock frequency is a multiple of the sample rate. This ratio defines how many periods</span>
<span class="w">    </span><span class="c1">// of the serial clock are contained in one frame period. That is, it is the number of bits transmitted in one frame period.</span>
<span class="w">    </span><span class="c1">// Therefore, it must be sufficient to transmit all samples from all phases.</span>
<span class="w">    </span><span class="c1">// This ratio can be calculated as follows:</span>
<span class="w">    </span><span class="c1">// Maximal number of channels for phase 0 (tx and rx) = 1</span>
<span class="w">    </span><span class="c1">// Maximal number of channels for phase 1 (tx and rx) = 1</span>
<span class="w">    </span><span class="c1">// Sample size for phase 0 = 16 bits</span>
<span class="w">    </span><span class="c1">// Sample size for phase 1 = 16 bits</span>
<span class="w">    </span><span class="c1">// Number of bits by frame = 1 * 16 + 1 * 16 = 32 bits</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">serialClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// For the master clock, there are three possibilities :</span>
<span class="w">    </span><span class="c1">// 1. No master clock required, put 0xFF for the pin number and 0 for mclk ratio.</span>
<span class="w">    </span><span class="c1">// 2. The master clock is used by the peripheral as a system clock and it needs an independent clock running at a given</span>
<span class="w">    </span><span class="c1">//      frequency. Pass 0 for the masterClockRatio and use the function I2S_SetMclkFrequency(x) to set the required</span>
<span class="w">    </span><span class="c1">//      master clock frequency.</span>
<span class="w">    </span><span class="c1">// 3. The master clock must run at a frequency that is a multiple of the fsync and sclk frequencies, therefore it</span>
<span class="w">    </span><span class="c1">//      must be synchronized with sclk. Use the masterClockRatio to set by how many you want to multiply the fsync</span>
<span class="w">    </span><span class="c1">//      (sampling rate) frequency. IMPORTANT: the masterClockRatio must be a multiple of the serialClockRatio, it</span>
<span class="w">    </span><span class="c1">//      means that with a serialClockRatio of 32, possible values will be {32, 64, 96, 128, ...}.</span>
<span class="w">    </span><span class="c1">// Note: you can retrieve the minimal and maximal frequencies that can be configured for fsync, sclk and mclk using</span>
<span class="w">    </span><span class="c1">// I2S_GetMinClkFrequency() and I2S_GetMaxClkFrequency(). Always ensure that what you configure is in this range.</span>
<span class="w">    </span><span class="c1">// Note: The granularity of the produced frequencies is the system clock. When generating high frequencies that aren&#39;t</span>
<span class="w">    </span><span class="c1">// a divider of the system clock, jitter may occur.</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">masterClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="p">;</span><span class="w"> </span><span class="c1">// Possibility 3 : 44100 * 512 = 22.5792MHz</span>

<span class="w">    </span><span class="c1">// For I2S protocol, fsync length is the length of one phase, meaning half the total frame and</span>
<span class="w">    </span><span class="c1">// therefore half the serial clock ratio.</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">fsyncLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// As we configured I2S_PHASE0_LENGTH_FSYNC_EDGE, phase 0 length is automatically equal to fsync active polarity length</span>
<span class="w">    </span><span class="c1">// Therefore, this field has no effect. But the correct value would be 16 bits.</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0Length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>TDM (Time Division Multiplexing)</strong></p>
<p>The configuration below can be used to achieve the result shown in this image :</p>
<a class="reference internal image-reference" href="../../_images/tdm.png"><img alt="TDM signals" class="align-center" src="../../_images/tdm.png" style="width: 653.0px; height: 305.0px;" /></a>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">NVM_ConfigModules</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Register and enable I2S module</span>
<span class="w">    </span><span class="n">I2S_RegisterModule</span><span class="p">();</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// I2S GPIO configuration</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7u</span><span class="p">;</span><span class="w">     </span><span class="c1">// Serial / bit clock</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSdataOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8u</span><span class="p">;</span><span class="w"> </span><span class="c1">// Data output gpio (not used in input mode)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioSdataIn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9u</span><span class="p">;</span><span class="w">  </span><span class="c1">// Data input gpio (not used in output mode)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioFsync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10u</span><span class="p">;</span><span class="w">   </span><span class="c1">// Frame / synchronization signal</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioMclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11u</span><span class="p">;</span><span class="w">    </span><span class="c1">// Master clock signal (0xFF if not used)</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PROTOCOL_TDM</span><span class="p">;</span><span class="w">    </span><span class="c1">// Configure for TDM protocol</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_MASTER_MODE</span><span class="p">;</span><span class="w">         </span><span class="c1">// Our device is the master (it will generate the clocks)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">cpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">                       </span><span class="c1">// TDM polarity: capture at falling edge</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">fsyncPolarity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">              </span><span class="c1">// TDM polarity: pulse (or high state) at start of phase 0</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">phaseLengthMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_PHASE0_LENGTH_SW_VALUE</span><span class="p">;</span><span class="w"> </span><span class="c1">// Phase 0 length is configured by software</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">transferMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_TX_RX</span><span class="p">;</span><span class="w">   </span><span class="c1">// Configure for bidirectional transfer (output and input gpio are used)</span>

<span class="w">    </span><span class="c1">// Configuration for phase 0</span>
<span class="w">    </span><span class="c1">// As showed on the image, there is no data delay configured (first bit of sample is latched at first falling edge of sclk)</span>
<span class="w">    </span><span class="c1">// The sample size for Phase 0 is twice the sample size for Phase 1. In the image it&#39;s 8 bits and 4 bits.</span>
<span class="w">    </span><span class="c1">// But we&#39;ll use 16 bits and 8 bits.</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">sampleSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_FORMAT_16BIT</span><span class="p">;</span><span class="w"> </span><span class="c1">// 16 bits sample format for phase 0</span>

<span class="w">    </span><span class="c1">// Configuration for phase 1</span>
<span class="w">    </span><span class="c1">// This time the sample size is 8 bits</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1</span><span class="p">.</span><span class="n">bits</span><span class="p">.</span><span class="n">sampleSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_FORMAT_8BIT</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Configure the number of channels to send and receive for phase 0</span>
<span class="w">    </span><span class="c1">// The image shows two channels for phase 0</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0TxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0RxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Configure the number of channels to send and receive for phase 1</span>
<span class="w">    </span><span class="c1">// The image shows four channels for phase 1</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1TxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase1RxChannels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Set default sampling rate, this is the frame signal frequency</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">samplingRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_RATE_44KHZ</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// The serial clock frequency is a multiple of the sample rate. This ratio defines how many periods</span>
<span class="w">    </span><span class="c1">// of the serial clock are contained in one frame period. That is, it is the number of bits transmitted in one frame period.</span>
<span class="w">    </span><span class="c1">// Therefore, it must be sufficient to transmit all samples from all phases.</span>
<span class="w">    </span><span class="c1">// This ratio can be calculated as follows:</span>
<span class="w">    </span><span class="c1">// Maximal number of channels for phase 0 (tx and rx) = 2</span>
<span class="w">    </span><span class="c1">// Maximal number of channels for phase 1 (tx and rx) = 4</span>
<span class="w">    </span><span class="c1">// Sample size for phase 0 = 16 bits</span>
<span class="w">    </span><span class="c1">// Sample size for phase 1 = 8 bits</span>
<span class="w">    </span><span class="c1">// Number of bits by frame = 2 * 16 + 4 * 8 = 64 bits</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">serialClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// For the master clock, there are three possibilities :</span>
<span class="w">    </span><span class="c1">// 1. No master clock required, put 0xFF for the pin number and 0 for mclk ratio.</span>
<span class="w">    </span><span class="c1">// 2. The master clock is used by the peripheral as a system clock and it needs an independent clock running at a given</span>
<span class="w">    </span><span class="c1">//      frequency. Pass 0 for the masterClockRatio and use the function I2S_SetMclkFrequency(x) to set the required</span>
<span class="w">    </span><span class="c1">//      master clock frequency.</span>
<span class="w">    </span><span class="c1">// 3. The master clock must run at a frequency that is a multiple of the fsync and sclk frequencies, therefore it</span>
<span class="w">    </span><span class="c1">//      must be synchronized with sclk. Use the masterClockRatio to set by how many you want to multiply the fsync</span>
<span class="w">    </span><span class="c1">//      (sampling rate) frequency. IMPORTANT: the masterClockRatio must be a multiple of the serialClockRatio, it</span>
<span class="w">    </span><span class="c1">//      means that with a serialClockRatio of 32, possible values will be {32, 64, 96, 128, ...}.</span>
<span class="w">    </span><span class="c1">// Note: you can retrieve the minimal and maximal frequencies that can be configured for fsync, sclk and mclk using</span>
<span class="w">    </span><span class="c1">// I2S_GetMinClkFrequency() and I2S_GetMaxClkFrequency(). Always ensure that what you configure is in this range.</span>
<span class="w">    </span><span class="c1">// Note: The granularity of the produced frequencies is the system clock. When generating high frequencies that aren&#39;t</span>
<span class="w">    </span><span class="c1">// a divider of the system clock, jitter may occur.</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">masterClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="p">;</span><span class="w"> </span><span class="c1">// Possibility 3 : 44100 * 512 = 22.5792MHz</span>

<span class="w">    </span><span class="c1">// For TDM protocol, fsync is a pulse of one sclk that occurs at every start of phase 0.</span>
<span class="w">    </span><span class="c1">// Therefore the length is one.</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">fsyncLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// As we configured I2S_PHASE0_LENGTH_SW_VALUE, phase 0 length is configured by this value.</span>
<span class="w">    </span><span class="c1">// We can calculate the phase 0 length, which is the number of bits transmitted during phase 0, by</span>
<span class="w">    </span><span class="c1">// multiplying the number of channels in phase 0 by the sample size. This gives :</span>
<span class="w">    </span><span class="c1">// phase 0 length = 2 * 16 = 32 bits</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">phase0Length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the TDM protocol typically uses only one phase (phase 0) to transmit x channels of the same sample size. This example is a
bit more advanced because we are transmitting different sample sizes. In more basic TDM case we could use a phaseLengthMode of
I2S_PHASE0_LENGTH_FRAME_PERIOD to indicate to the driver that we’re going to drop phase 1. The configuration related to phase 1 will then
be discarded and the number of channels (tx and rx) for phase 1 must be set to 0.</p>
</section>
<section id="change-the-configuration-at-runtime">
<h3>Change the configuration at runtime<a class="headerlink" href="#change-the-configuration-at-runtime" title="Link to this heading"></a></h3>
<p>Depending on application requirements, the devices may need to change sample rate or sample sizes. When communicating with a more advanced
device, such as a hardware codec, even the number of audio channels may change to properly accommodate a new configuration.</p>
<p>To achieve this, the driver provides some functions to change the configuration defined at startup. These must be called while the driver is idle.
The prototypes are listed below:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetClockFrequencies</span><span class="p">(</span><span class="n">I2S_SamplingRate_t</span><span class="w"> </span><span class="n">samplingRate</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">sclkRatio</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">mclkRatio</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetMclkFrequency</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">freq</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetPhase0Config</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SampleSize_t</span><span class="w"> </span><span class="n">sampleSize</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rxChannels</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">txChannels</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetPhase1Config</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SampleSize_t</span><span class="w"> </span><span class="n">sampleSize</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rxChannels</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">txChannels</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetPhase0Length</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">phase0Length</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetFsyncLength</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">fsyncLength</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because the gI2S_Config structure is not stored in persistent memory during sleep, a configuration change made using these functions will inevitably
be lost on wakeup. It is the user’s responsibility to call these functions again on wakeup to ensure that the configuration is set correctly.</p>
</div>
</section>
<section id="master-slave-mode">
<h3>Master / slave mode<a class="headerlink" href="#master-slave-mode" title="Link to this heading"></a></h3>
<p>The driver can be used as either an I2S master or slave. The main difference between these modes is that the master is responsible for generating the clocks,
while the slave only receives them. As a result, the GPIOs used for the serial clock and the frame clock are configured as output in master mode and as input
in slave mode.</p>
</section>
<section id="transfer-mode-rx-tx-or-rx-tx">
<h3>Transfer mode (RX, TX or RX+TX)<a class="headerlink" href="#transfer-mode-rx-tx-or-rx-tx" title="Link to this heading"></a></h3>
<p>The driver can be used to work in one of three modes of operation, which are :</p>
<ul class="simple">
<li><p>I2S_TX_ONLY : The driver only sends data on gpioSdataOut, gpioSdataIn is not used.</p></li>
<li><p>I2S_RX_ONLY : The driver only receives data on gpioSdataIn, gpioSdataOut is not used.</p></li>
<li><p>I2S_TX_RX : Both direction are used.</p></li>
</ul>
<p>Consequently, the driver cannot be started for TX operations if the configured mode is I2S_RX_ONLY, nor for RX operations if configured for TX only. This is also available
for the functions that add transactions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The transfer mode cannot be changed at runtime, so if a direction change is to be performed dynamically, the driver must first be configured to I2S_TX_RX transfer mode.
The transfer mode only affects the initialization of the driver, where enabling only the TX side or only the RX side can slightly reduce the memory usage. However, the driver
can be used for TX only or RX only even if it is configured for RX+TX operation.</p>
</div>
</section>
<section id="configuration-of-the-clocks">
<h3>Configuration of the clocks<a class="headerlink" href="#configuration-of-the-clocks" title="Link to this heading"></a></h3>
<p>As explained in the introductory chapter, I2S uses three clocks :</p>
<ul class="simple">
<li><p>FSYNC (WS, LRCLK) is the frame signal that runs at the sample rate frequency</p></li>
<li><p>SCLK (BCLK, SCK) is the bit clock</p></li>
<li><p>MCLK (MCK) is the master clock, ususally running at a multiple of the FSYNC frequency, or at a fixed, independent frequency, usually used as the system clock by the I2S peripheral</p></li>
</ul>
<p>The FSYNC frequency is set once in the NVM_ConfigModules() function using the gI2S_Config.samplingRate parameter. It can then be changed using the
I2S_SetClockFrequencies(…) function.</p>
<p><strong>Serial clock (SCLK)</strong></p>
<p>The serial clock frequency is always configured by setting the serialClockRatio, which defines by how many the sampling frequency is multiplied to create
the serial clock. It also means it defines how many bits are transmitted during an I2S frame.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">serial</span> <span class="n">clock</span> <span class="o">=</span> <span class="n">sampling</span> <span class="n">rate</span> <span class="o">*</span> <span class="n">sclkRatio</span>
</pre></div>
</div>
<p>There are three ways to configure the master clock, depending on the I2S peripheral you are communicating with.</p>
<p><strong>Case 1 : MCLK not used</strong></p>
<p>If the master clock is not needed by the I2S peripheral, you can pass an invalid value for the GPIO number.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">NVM_ConfigModules</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioMclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xFF</span><span class="p">;</span><span class="w"> </span><span class="c1">// 0xFF means no gpio is used for master clock</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">masterClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Ensure to pass 0 when not used</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When calling the I2S_SetClockFrequencies(…) function, be sure to always pass 0 for the master clock argument.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetClockFrequencies</span><span class="p">(</span><span class="n">I2S_SAMPLE_RATE_44KHZ</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Case 2 : MCLK is a multiple of FSYNC</strong></p>
<p>The I2S peripheral requires the master clock to be a multiple of the fsync frequency (integer ratio) and requires
FSYNC, SCLK and MCLK to be synchronous. This is typical when communicating with a DAC/ADC.</p>
<p>Since MCLK must be synchronous to SCLK, you must ensure that masterClockRatio / serialClockRatio is also an integer ratio.
This means that with a serialClockRatio of 32, possible values for masterClockRatio would be {32, 64, 96, 128, …}.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">serial</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">sclkRatio</span>
<span class="n">master</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">mclkRatio</span>
<span class="n">mclkRatio</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">sclkRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1">// Condition</span>
</pre></div>
</div>
<p>You can specify the serialClockRatio and masterClockRatio in the NVM_ConfigModules() function :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">NVM_ConfigModules</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioMclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11u</span><span class="p">;</span><span class="w"> </span><span class="c1">// This time we use it</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">samplingRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_RATE_44KHZ</span><span class="p">;</span><span class="w"> </span><span class="c1">// Set fsync frequency</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">serialClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span><span class="w"> </span><span class="c1">// 44100 * 64 = 2.8224Mhz (64 bits by frame)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">masterClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">512</span><span class="p">;</span><span class="w"> </span><span class="c1">// 44100 * 512 = 22.5792MHz</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can change this configuration by calling the I2S_SetClockFrequencies(…) function. The status returned will tell you
if the change was handled correctly. See the documentation for more information on the status returned by the functions.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetClockFrequencies</span><span class="p">(</span><span class="n">I2S_SAMPLE_RATE_44KHZ</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">512</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Unlike the I2S_SetClockFrequencies(…) function, which returns an error code if the given ratios are invalid, there is no
error mechanism for the NVM_ConfigModules() function. This means that if the masterClockRatio or serialClockRatio
are invalid or result in an unsupported frequency, the system won’t work and it might be difficult to determine the reason.
Be careful to check that the ratios are valid.</p>
</div>
<p><strong>Case 3 : MCLK is used independently</strong></p>
<p>Some devices, such as advanced codec circuits, don’t require the master clock frequency to be synchronized to FSYNC
and SCLK. In this case, the I2S_SetMclkFrequency(…) function can be used to set the master clock to a fixed frequency.</p>
<p>In the NVM_ConfigModules() function, pass 0 for the masterClockRatio :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">NVM_ConfigModules</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">gpioMclk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11u</span><span class="p">;</span><span class="w"> </span><span class="c1">// This time we use it</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">samplingRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2S_SAMPLE_RATE_44KHZ</span><span class="p">;</span><span class="w"> </span><span class="c1">// Set fsync frequency</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">serialClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span><span class="w"> </span><span class="c1">// 44100 * 64 = 2.8224Mhz (64 bits by frame)</span>
<span class="w">    </span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">masterClockRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// MCLK will be used independently</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then, use the I2S_SetMclkFrequency(…) function to set the clock frequency.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">I2S_SetMclkFrequency</span><span class="p">(</span><span class="mi">13000000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set MCLK to run at 13MHz</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If MCLK is set this way, be sure to always pass 0 for the mclkRatio when calling I2S_SetClockFrequencies(…)
to avoid overriding the configuration made by I2S_SetMclkFrequency(…).</p>
</div>
<p><strong>Automatically manage the clocks</strong></p>
<p>The driver can manage the clocks itself (this is the default option), i.e. it will automatically start sclk, mclk and fsync when the driver is started, and stop them when the
driver is stopped. This option can be changed in the configuration structure :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">gI2S_Config</span><span class="p">.</span><span class="n">autoClk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
</pre></div>
</div>
<p>When set to false, it is the user’s responsibility to ensure that the clocks are working when the driver needs them. The clocks can be enabled and disabled with the
following function :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">I2S_SetClocksState</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">masterClk</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">serialClk</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">fsync</span><span class="p">);</span>
</pre></div>
</div>
<p>Typically, it should be called before the startXx() function to enable the clocks, and after the driver has fired the I2S_EVT_FINISHED event to disable them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the gI2S_Config.autoClk option, you will typically call the I2S_SetMclkFrequency(…) on each wakeup to set the frequency once.
The driver will automatically output the clock when running. You could also set the gI2S_Config.autoClk flag to false and use
the I2S_SetClocksState(…) function to select when to enable the master clock.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I2S_GetMinClkFrequency() and I2S_GetMaxClkFrequency() can be used to get the minimum and maximum frequencies that can be configured for fsync,
sclk and mclk. Always make sure that the resulting frequencies are within this range. The maximum frequency is typically half the system clock
and the minimum frequency is typically the system clock divided by 2^16.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The granularity of the generated frequencies is the system clock.  Generating high frequencies that don’t divide the system clock can cause jitter.</p>
</div>
</section>
<section id="transactions-system">
<h3>Transactions system<a class="headerlink" href="#transactions-system" title="Link to this heading"></a></h3>
<p>As mentioned in the Overview chapter, the driver uses DMA to transfer the data buffers between RAM and the I2S FIFO queue without the help of the CPU. The DMA transfers
are chained together to form a linked list, making the hardware completely autonomous. When a DMA transfer is finished, i.e. new buffers are available to be filled or read,
the hardware triggers an interrupt which is used by the driver to stay synchronized with the hardware state.</p>
<p>To make the driver work, the first step is to configure the DMA transfers. This can be done using the I2S_AddXxTransaction(…) function, where a transaction is a structure
referencing the buffer to be used in the DMA transfer and a user callback. A transaction is always added to the end of the linked list and points to the beginning,
creating a circular list.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_AddTxTransaction</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">pTxBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_DriverCallback_t</span><span class="w"> </span><span class="n">pCallback</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">pUserData</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_AddRxTransaction</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">pRxBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_DriverCallback_t</span><span class="w"> </span><span class="n">pCallback</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">pUserData</span><span class="p">);</span>
</pre></div>
</div>
<p>The callbacks passed as parameters are used to notify the user of an event related to this transaction. Typically, the same callback is used for all transactions because the
transaction buffer can be retrieved from the event object. However, different designs are possible.</p>
<p>The maximum number of transactions can be configured using the gI2S_Config.transactionDepth parameter. Typically, you will use two transactions referencing two ping-pong buffers.
That is, while one buffer is used by the hardware, the other is used by the software, and they are swapped when the transaction is completed.</p>
<p>The function below can be used to clear the transaction lists. It is particularly useful when a configuration change is required after the driver has been stopped.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_ClearTransactions</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="samples-buffers">
<h3>Samples buffers<a class="headerlink" href="#samples-buffers" title="Link to this heading"></a></h3>
<p>The audio signal is represented in the data buffers using PCM modulation, which is a way of digitally representing an audio signal (see <a class="reference external" href="https://en.wikipedia.org/wiki/Pulse-code_modulation">https://en.wikipedia.org/wiki/Pulse-code_modulation</a>).</p>
<p>The number of bytes per sample depends on the phase configuration. When using 12- or 20-bit samples, the number of bytes is 2 or 3, respectively. If sign extension is enabled (default),
the four most significant bits take the value of the bit sign.</p>
<p>Samples from each channel are placed in the buffer in sequence, as shown below for 2 channels and 12-bit samples :</p>
<a class="reference internal image-reference" href="../../_images/buffer.png"><img alt="samples in buffer" class="align-center" src="../../_images/buffer.png" style="width: 741.0px; height: 164.0px;" /></a>
<p>This image also shows how the sign extension works when the sample size is not a multiple of 8.</p>
<p>Since it’s not possible to send or receive incomplete frames, the buffer length must be a multiple of the frame length to ensure that there are always an integer number of frames in a buffer.
You can easily retrieve the number of bytes per frame according to the current I2S configuration using the functions below :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">I2S_GetBytesPerTxFrame</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">I2S_GetBytesPerRxFrame</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>According to the example in the figure above, these functions would return 4 bytes per frame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the buffer provided to the I2S_AddXxTransaction(…) function does not have a length that is a multiple of the frame length, the driver will automatically round down the length and discard the extra bytes.</p>
</div>
<p>The selected buffer length depends on the application requirements. However, for audio applications, it is common to choose a length that results in a transaction duration of 7.5 or 10ms.
The buffer length for a given transaction duration can be calculated as shown below :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>len   : buffer length [byte]
sr    : sample rate [Hz]
sb    : sample size [byte]
ch    : number of channels
trT   : transaction duration [ms]

len = sr * sb * ch * trT / 1000

Basic example :
sr  = 48kHz
sb  = 2 bytes (16 bits sample size)
ch  = 2 (stereo)
trT = 10ms

len = 48&#39;000 * 2 * 2 * 10 / 1000 = 1920 bytes
</pre></div>
</div>
<p>Using the example parameters, this means that a transaction will take 10ms and the ping pong buffers will swap at a frequency of 100Hz.</p>
</section>
<section id="start-transactions">
<h3>Start transactions<a class="headerlink" href="#start-transactions" title="Link to this heading"></a></h3>
<p>Once the transactions are configured, the driver can be started using the following functions:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_StartTx</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">nLoops</span><span class="p">);</span><span class="w"> </span><span class="c1">// Available in TX_ONLY and TX_RX modes</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_StartRx</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">nLoops</span><span class="p">);</span><span class="w"> </span><span class="c1">// Available in RX_ONLY and TX_RX modes</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_StartRxTx</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">nLoops</span><span class="p">);</span><span class="w"> </span><span class="c1">// Available in TX_RX mode</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not forget to start the clocks before if autoClk was set to false.</p>
</div>
<p>A number of loops can be configured for each start function. The value 0 can be passed to run indefinitely. A loop is defined as a single iteration through the list of transactions.
This means that if there are two 10ms transactions in the list, specifying one loop will start the driver for 20ms.</p>
<p>When started for a certain number of loops, the number of remaining loops can be retrieved using the functions below :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">I2S_GetTxRemainingLoops</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">I2S_GetRxRemainingLoops</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These functions will return 0 in case the driver is stopped or runs indefinitely.</p>
</div>
<p>You can check that the driver is working at any time using these functions :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">I2S_IsTxWorking</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">I2S_IsRxWorking</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="stop-transactions">
<h3>Stop transactions<a class="headerlink" href="#stop-transactions" title="Link to this heading"></a></h3>
<p>There are two ways to stop the driver. The soft way requests to stop as soon as possible, i.e. the current transaction is completed before the clocks and the module are disabled.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">I2S_StopTx</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">I2S_StopRx</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>The hard way stops the hardware directly, ignoring any ongoing transaction and any side effects it might cause.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">I2S_ForceStop</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="driver-callbacks">
<h3>Driver callbacks<a class="headerlink" href="#driver-callbacks" title="Link to this heading"></a></h3>
<p>The driver uses callbacks to inform the user application about state and events. A transaction communicates its state using the user-provided callback, if configured. The I2S driver callback prototype is as follows :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">I2S_Callback</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">I2S_Event_t</span><span class="w"> </span><span class="o">*</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">pUserData</span><span class="p">);</span>
</pre></div>
</div>
<p>The callback takes as argument an I2S_Event_t containing multiple fields :</p>
<ol class="arabic simple">
<li><p>The status of the transaction</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>I2S_STATUS_TX: Event is related to a TX transaction</p></li>
<li><p>I2S_STATUS_RX: Event is related to a RX transaction</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple">
<li><p>The type of the transaction</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>I2S_EVT_BUFFER_READY: The transaction buffer is ready for read or write (depending on TX or RX event)</p></li>
<li><p>I2S_EVT_FINISHED: The driver has finished its operation for RX or TX direction</p></li>
<li><p>I2S_EVT_SYNC_ERROR: An synchronization error occurred internally</p></li>
<li><p>I2S_EVT_DMA_ERROR: A DMA error occurred</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple">
<li><p>The transaction buffer</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Available if status is of type I2S_EVT_BUFFER_READY</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple">
<li><p>The length of that buffer</p></li>
</ol>
<p>The I2S_EVT_BUFFER_READY event is fired at the end of each successful transaction, i.e., at the
transaction duration interval. If the event is of type TX, the buffer is ready to be filled
by the application, if of type RX, the buffer is ready to be read by the application.</p>
<p>The I2S_EVT_FINISHED event can be triggered by two conditions:</p>
<ul class="simple">
<li><p>When the driver has been started for a certain number of loops</p></li>
<li><p>After calling the I2S_StopXx() function</p></li>
</ul>
<p>In all cases, it means that the driver has successfully completed its operations and has stopped
properly for the direction specified by the event type. If the driver is running in both RX and TX
directions and the gI2S_Config.autoClk flag is true, the clocks will not stop until both directions
are stopped, that is, when the two I2S_EVT_FINISHED have been fired.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A call to I2S_ForceStop() will stop the driver directly, the user won’t be notified by an event.</p>
</div>
<p>The I2S_EVT_SYNC_ERROR event is triggered when the software loses synchronization with the hardware.
This usually means that the DMA interrupt has been delayed too long by other high priority interrupts.
Make sure that the application doesn’t spend too much time in other interrupts and check that the
transaction duration is not too short according to the application timings. It is possible to recover
from this type of error by restarting the driver.</p>
<p>The I2S_EVT_DMA_ERROR event is fired on general DMA error and implies the end of driver operations.</p>
<p>The example below shows a typical callback implementation where the driver is used in
bidirectional mode and the input buffer is copied to the output buffer (fallback).</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">I2S_Callback</span><span class="p">(</span><span class="n">I2S_Event_t</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">*</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Switch on event type</span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">type</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">I2S_EVT_DMA_ERROR</span><span class="p">:</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">I2S_EVT_SYNC_ERROR</span><span class="p">:</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Call application error handler</span>
<span class="w">            </span><span class="n">APP_HandleError</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">I2S_EVT_BUFFER_READY</span><span class="p">:</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Keep reference on TX buffer</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">txBuf</span><span class="p">;</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">I2S_STATUS_TX</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Save last TX buffer reference</span>
<span class="w">                </span><span class="n">txBuf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">bufRdyEvt</span><span class="p">.</span><span class="n">buffer</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Copy RX buffer into tx buffer</span>
<span class="w">                </span><span class="n">memcpy</span><span class="p">(</span><span class="n">txBuf</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">bufRdyEvt</span><span class="p">.</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="o">-&gt;</span><span class="n">bufRdyEvt</span><span class="p">.</span><span class="n">length</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// This works only if the buffers used for TX and RX transactions</span>
<span class="w">                </span><span class="c1">// have the same length !</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">I2S_EVT_FINISHED</span><span class="p">:</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Check if TX and RX are finished</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">I2S_IsTxWorking</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">I2S_IsRxWorking</span><span class="p">())</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Operations fully finished</span>
<span class="w">                </span><span class="c1">// We can post an event to the application to inform and</span>
<span class="w">                </span><span class="c1">// eventually continue a state machine</span>
<span class="w">                </span><span class="n">APP_PostEvent</span><span class="p">(</span><span class="n">APP_I2S_FULLY_FINISHED</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="system-sleep">
<h3>System sleep<a class="headerlink" href="#system-sleep" title="Link to this heading"></a></h3>
<p>The system can’t go to sleep while the driver is running.
Since the configuration structure (gI2S_Config) isn’t
saved during sleep, the driver will always load the configuration provided by the NVM_ConfigModules()
function on wakeup. As a result, if the configuration has been changed using one of the following function,
it is needed to call them again to reconfigure the driver properly.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetClockFrequencies</span><span class="p">(</span><span class="n">I2S_SamplingRate_t</span><span class="w"> </span><span class="n">samplingRate</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">sclkRatio</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">mclkRatio</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetPhase0Config</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SampleSize_t</span><span class="w"> </span><span class="n">sampleSize</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rxChannels</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">txChannels</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetPhase1Config</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">I2S_SampleSize_t</span><span class="w"> </span><span class="n">sampleSize</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rxChannels</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">txChannels</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetPhase0Length</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">phase0Length</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">I2S_SetFsyncLength</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">fsyncLength</span><span class="p">);</span>
</pre></div>
</div>
<p>In addition, the transactions are also stored in a non persistent memory, meaning the configuration must
be done again at each wakeup using the I2S_ClearTransactions() followed by the I2S_AddXxTransaction(…)
functions.</p>
</section>
<section id="dma-channels">
<h3>DMA channels<a class="headerlink" href="#dma-channels" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This chapter only applies if you need to use both I2S driver and DMA drivers in your application.</p>
</div>
<p>Since the I2S driver uses the same DMA channels as the UART driver, there may be a conflict if both are
used together. The correct workaround for this problem is to use the non-DMA version of the UART driver.
This is preferable to changing the DMA channels because they are assigned and using other channels may
cause other conflicts and other problems.</p>
<p>Unfortunately, the UART driver that uses DMA was added in ROM v3. Since the linker takes the symbols
from the ROM before considering those from the CMakeLists.txt file, the only way to force the use of the
standard UART driver is to modify the ROM symbols file.</p>
<p>As a result, you’ll need to remove these symbols from the file located in
rom/bin/v3.0/rom.sym. The symbols that must be deleted are denoted by a “-” below :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>...
IRQHandler_NVM=0x102cb8 0x16
IRQHandler_SpiSlaveRx=0x102d00 0x22
IRQHandler_SpiSlaveTx=0x102d24 0xb2
- IRQHandler_UartRx=0x102dd8 0x22
- IRQHandler_UartTx=0x102dfc 0xb2
InitPRNG=0x10a84c 0x11c
InvMod_binary=0x10859c 0x114
InvertMSWandLSW=0x1086b0 0x22
...
SPIS_SendDataEx=0x1043f0 0xbc
SPIS_SetConfiguration=0x1044ac 0x2a
SetPRNGCtx=0x10aa8c 0x12
- UART_BlockCommunication=0x104620 0xa
- UART_Enable=0x10465c 0x1a
- UART_HasPendingData=0x104754 0x26
- UART_InitBuffers=0x10477c 0x32
- UART_InitNew=0x1047b0 0x90
- UART_ReceiveDataEx=0x1048f8 0xde
- UART_Restart=0x1049d8 0x70
- UART_Restore=0x104a48 0x90
- UART_Save=0x104ad8 0x2
- UART_SendDataEx=0x104adc 0xbc
- UART_SetBaudRate=0x104b98 0xa6
- UART_SetBaudRateEx=0x104c40 0x1c
- UART_SetConfiguration=0x104c5c 0x26
VoltMon_GetBrownOutCompStat=0x104c94 0x10
VoltMon_GetVbat1CompStat=0x104ca4 0x10
VoltMon_GetVccCompStat=0x104cb4 0x10
...
gSPIS_Config=0x80ffa8 0x28
gSPIS_Transport=0x10c3a8 0x24
gTransport_ActiveTransport=0x801090 0x4
- gUART_Config=0x80ffd0 0x2c
gUART_Transport=0x10c3cc 0x24
gVersionHeader=0x10ffe0 0x20
gpEMSystemNPRAM=0x801094 0x4
...
</pre></div>
</div>
<p>You can easily find them by searching “uart” keyword in the file using ctrl+f.</p>
<p>Then, do not forget to add the “uart” library in the CMakeLists.txt file of your application.</p>
</section>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading"></a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="d3/d33/group__i2s"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">i2s</span></span></dt>
<dd><p>I2S Driver. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420I2S_DriverCallback_t">
<span id="_CPPv320I2S_DriverCallback_t"></span><span id="_CPPv220I2S_DriverCallback_t"></span><span id="I2S_DriverCallback_t"></span><span class="target" id="d3/d33/group__i2s_1gaeef9d0f6db6fdff60779395ade95f008"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_DriverCallback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411I2S_Event_t" title="I2S_Event_t"><span class="n"><span class="pre">I2S_Event_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">pUserData</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv420I2S_DriverCallback_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S callback function. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_RegisterModulev">
<span id="_CPPv318I2S_RegisterModulev"></span><span id="_CPPv218I2S_RegisterModulev"></span><span id="I2S_RegisterModule__void"></span><span class="target" id="d3/d33/group__i2s_1ga9bf52f3f289a252d91118bc252a678f6"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_RegisterModule</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_RegisterModulev" title="Link to this definition"></a><br /></dt>
<dd><p>Add the I2S module into the module config list. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function needs to be called before the modules are initialized </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_SetClocksStatebbb">
<span id="_CPPv318I2S_SetClocksStatebbb"></span><span id="_CPPv218I2S_SetClocksStatebbb"></span><span id="I2S_SetClocksState__b.b.b"></span><span class="target" id="d3/d33/group__i2s_1ga799d22e1505fe78ac720ee7392d42aa6"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetClocksState</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">masterClk</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">serialClk</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fsync</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_SetClocksStatebbb" title="Link to this definition"></a><br /></dt>
<dd><p>Manual enable of the clocks. </p>
<p>You can leave the driver manages the clocks by using the gI2S_Config.autoClk flag. You shouldn’t call this yourself if this flag is enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>masterClk</strong> – The master clock, true to enable </p></li>
<li><p><strong>serialClk</strong> – The serial clock, true to enable </p></li>
<li><p><strong>fsync</strong> – The fsync clock, true to enable </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423I2S_SetClockFrequencies18I2S_SamplingRate_t8uint16_t8uint16_t">
<span id="_CPPv323I2S_SetClockFrequencies18I2S_SamplingRate_t8uint16_t8uint16_t"></span><span id="_CPPv223I2S_SetClockFrequencies18I2S_SamplingRate_t8uint16_t8uint16_t"></span><span id="I2S_SetClockFrequencies__I2S_SamplingRate_t.uint16_t.uint16_t"></span><span class="target" id="d3/d33/group__i2s_1gae77e0c4c69a8d2f41fafd8dd7bbd11cc"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetClockFrequencies</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418I2S_SamplingRate_t" title="I2S_SamplingRate_t"><span class="n"><span class="pre">I2S_SamplingRate_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">samplingRate</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sclkRatio</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">mclkRatio</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423I2S_SetClockFrequencies18I2S_SamplingRate_t8uint16_t8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the clock frequencies for synchronized use. </p>
<p>
The mclkRatio must be a multiple of the sclkRatio. For instance, passing sclkRatio=64 and mclkRatio=512 is correct (512/64=8) but passing sclkRatio=64 and mclkRatio=500 is not and the function will return an error. This is to ensure clocks synchronization.</p>
<p>The mclkRatio value can be 0 if the master clock is not used or if it is set with the <a class="reference internal" href="#d3/d33/group__i2s_1gacb2b8b02940d003de33bd741d741dd2c"><span class="std std-ref">I2S_SetMclkFrequency()</span></a> function. Passing 0 prevents the current clock configuration from being overridden.</p>
<p>
This function will update the gI2S_Config structure.<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d3/d33/group__i2s_1gacb2b8b02940d003de33bd741d741dd2c"><span class="std std-ref">I2S_SetMclkFrequency()</span></a> if you need to use a frequency that is not synchronized with fsync and sclk</p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values are lost and reset to what you configured in the configModules() function after each sleep period. As a result, if changed at runtime, you’ll need to call this function again after each wake up.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samplingRate</strong> – The sampling rate (fsync frequency) </p></li>
<li><p><strong>sclkRatio</strong> – The ratio between fsync and the serial clock frequency samplingRate * sclkRatio = serial clock frequency (in hertz) </p></li>
<li><p><strong>mclkRatio</strong> – The ratio between fsync and the master clock frequency samplingRate * mclkRatio = master clock frequency (in hertz)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EINVAL if sclkRatio is 0 or mclkRatio is lower than sclkRatio or mclkRatio is not a multiple of sclkRatio </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-ENOTSUP if the resulting mclk or sclk frequency is not in range [I2S_GetClkMinFrequency();I2S_GetClkMaxFrequency()] </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420I2S_SetMclkFrequency8uint32_t">
<span id="_CPPv320I2S_SetMclkFrequency8uint32_t"></span><span id="_CPPv220I2S_SetMclkFrequency8uint32_t"></span><span id="I2S_SetMclkFrequency__uint32_t"></span><span class="target" id="d3/d33/group__i2s_1gacb2b8b02940d003de33bd741d741dd2c"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetMclkFrequency</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">freq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420I2S_SetMclkFrequency8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the master clock frequency independently of other clocks. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>freq</strong> – Frequency in hertz </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-ENOTSUP if the frequency is not in the range [I2S_GetClkMinFrequency();I2S_GetClkMaxFrequency()] </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_GetClkMinFrequencyv">
<span id="_CPPv322I2S_GetClkMinFrequencyv"></span><span id="_CPPv222I2S_GetClkMinFrequencyv"></span><span id="I2S_GetClkMinFrequency"></span><span class="target" id="d3/d33/group__i2s_1gac9d7a45aeda316422d9c1aef26d18ecb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetClkMinFrequency</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_GetClkMinFrequencyv" title="Link to this definition"></a><br /></dt>
<dd><p>Get mclk, sclk and fsync minimal achievable frequency. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uint32_t Minimal frequency in hertz </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_GetClkMaxFrequencyv">
<span id="_CPPv322I2S_GetClkMaxFrequencyv"></span><span id="_CPPv222I2S_GetClkMaxFrequencyv"></span><span id="I2S_GetClkMaxFrequency"></span><span class="target" id="d3/d33/group__i2s_1ga6678b542bb8e173ef2f70a098cc38b20"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetClkMaxFrequency</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_GetClkMaxFrequencyv" title="Link to this definition"></a><br /></dt>
<dd><p>Get mclk, sclk and fsync maximal achievable frequency. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uint32_t Maximal frequency in hertz </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_SetPhase0Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t">
<span id="_CPPv319I2S_SetPhase0Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t"></span><span id="_CPPv219I2S_SetPhase0Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t"></span><span id="I2S_SetPhase0Config__uint16_t.I2S_SampleSize_t.uint8_t.uint8_t"></span><span class="target" id="d3/d33/group__i2s_1ga37c92393406b0ba62a71540ea371e7ea"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetPhase0Config</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">delay</span></span>, <a class="reference internal" href="#_CPPv416I2S_SampleSize_t" title="I2S_SampleSize_t"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sampleSize</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rxChannels</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">txChannels</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_SetPhase0Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set phase 0 configuration. </p>
<p>
This function directly update the gI2S_Config structure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values are lost and reset to what you configured in the configModules() function after each sleep period. As a result, if changed at runtime, you’ll need to call this function again after each wake up.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delay</strong> – Data delay (usually 1 for standard I2S and 0 for other format) </p></li>
<li><p><strong>sampleSize</strong> – Audio sample size for phase0 </p></li>
<li><p><strong>rxChannels</strong> – Number of channels transmitted in RX (discarded if only TX) </p></li>
<li><p><strong>txChannels</strong> – Number of channels transmitted in TX (discarded if only RX)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_SetPhase1Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t">
<span id="_CPPv319I2S_SetPhase1Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t"></span><span id="_CPPv219I2S_SetPhase1Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t"></span><span id="I2S_SetPhase1Config__uint16_t.I2S_SampleSize_t.uint8_t.uint8_t"></span><span class="target" id="d3/d33/group__i2s_1gaf1ebde687d16ebe39c555cd5cf4cb1df"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetPhase1Config</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">delay</span></span>, <a class="reference internal" href="#_CPPv416I2S_SampleSize_t" title="I2S_SampleSize_t"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sampleSize</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rxChannels</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">txChannels</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_SetPhase1Config8uint16_t16I2S_SampleSize_t7uint8_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set phase 1 configuration. </p>
<p>
This function directly update the gI2S_Config structure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values are lost and reset to what you configured in the configModules() function after each sleep period. As a result, if changed at runtime, you’ll need to call this function again after each wake up.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delay</strong> – Data delay (usually 1 for standard I2S and 0 for other format) </p></li>
<li><p><strong>sampleSize</strong> – Audio sample size for phase1 </p></li>
<li><p><strong>rxChannels</strong> – Number of channels transmitted in RX (discarded if only TX) </p></li>
<li><p><strong>txChannels</strong> – Number of channels transmitted in TX (discarded if only RX)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_SetPhase0Length8uint16_t">
<span id="_CPPv319I2S_SetPhase0Length8uint16_t"></span><span id="_CPPv219I2S_SetPhase0Length8uint16_t"></span><span id="I2S_SetPhase0Length__uint16_t"></span><span class="target" id="d3/d33/group__i2s_1ga8b20ab5d6b982e1816108038a5adf1d5"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetPhase0Length</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">phase0Length</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_SetPhase0Length8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set phase 0 length in term of serial/bits clocks (sclk) </p>
<p>This value has effect only when the phase length mode is configured as I2S_PHASE0_LENGTH_SW_VALUE.</p>
<p>
This function directly update the gI2S_Config structure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values are lost and reset to what you configured in the configModules() function after each sleep period. As a result, if changed at runtime, you’ll need to call this function again after each wake up.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>phase0Length</strong> – Number of bit clocks for phase 0</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_SetFsyncLength8uint16_t">
<span id="_CPPv318I2S_SetFsyncLength8uint16_t"></span><span id="_CPPv218I2S_SetFsyncLength8uint16_t"></span><span id="I2S_SetFsyncLength__uint16_t"></span><span class="target" id="d3/d33/group__i2s_1gaff935a31490725a87035d4a36f9398c7"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SetFsyncLength</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fsyncLength</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_SetFsyncLength8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the number of serial/bit clocks fsync will keep its active polarity value. </p>
<p>
This function directly update the gI2S_Config structure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values are lost and reset to what you configured in the configModules() function after each sleep period. As a result, if changed at runtime, you’ll need to call this function again after each wake up.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fsyncLength</strong> – Number of bit clocks</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420I2S_AddTxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv">
<span id="_CPPv320I2S_AddTxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv"></span><span id="_CPPv220I2S_AddTxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv"></span><span id="I2S_AddTxTransaction__uint8_tP.uint16_t.I2S_DriverCallback_t.voidP"></span><span class="target" id="d3/d33/group__i2s_1ga292d4cbff80b0ee6baa189af3583c3a9"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_AddTxTransaction</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pTxBuffer</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span>, <a class="reference internal" href="#_CPPv420I2S_DriverCallback_t" title="I2S_DriverCallback_t"><span class="n"><span class="pre">I2S_DriverCallback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">pCallback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pUserData</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420I2S_AddTxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Add a TX transaction in the queue. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The buffer length should be a multiple of <a class="reference internal" href="#d3/d33/group__i2s_1ga92c262d3e39a037973e6170b231e722a"><span class="std std-ref">I2S_GetBytesPerTxFrame()</span></a>. If it’s not the case the length will be automatically rounded down to the nearest multiple. This is mandatory as it’s not possible to send incomplete frames. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The length must be in range [I2S_TX_RX_FIFO_SIZE;DMA_MAX_TRANSFER_SIZE] ([16, 4096]) </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pTxBuffer</strong> – Transaction buffer containing output data </p></li>
<li><p><strong>length</strong> – Length of the buffer </p></li>
<li><p><strong>pCallback</strong> – Callback called when transaction completes </p></li>
<li><p><strong>pUserData</strong> – Data to pass along with the callback </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if no TX channel is configured for phase 0 or phase 1 </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-ESRCH if the driver wasn’t initialized to work in TX direction </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EINVAL if provided buffer is NULL </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EINVAL if length isn’t in range [I2S_TX_RX_FIFO_SIZE;DMA_MAX_TRANSFER_SIZE] </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EOVERFLOW if transactions queue is full</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420I2S_AddRxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv">
<span id="_CPPv320I2S_AddRxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv"></span><span id="_CPPv220I2S_AddRxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv"></span><span id="I2S_AddRxTransaction__uint8_tP.uint16_t.I2S_DriverCallback_t.voidP"></span><span class="target" id="d3/d33/group__i2s_1ga9c22a0b535260db1379ad0b468bd3cdd"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_AddRxTransaction</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pRxBuffer</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span>, <a class="reference internal" href="#_CPPv420I2S_DriverCallback_t" title="I2S_DriverCallback_t"><span class="n"><span class="pre">I2S_DriverCallback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">pCallback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pUserData</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420I2S_AddRxTransactionP7uint8_t8uint16_t20I2S_DriverCallback_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Add a RX transaction in the queue. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The buffer length should be a multiple of <a class="reference internal" href="#d3/d33/group__i2s_1ga6b3aff96db6a1cd453d4897151104f72"><span class="std std-ref">I2S_GetBytesPerRxFrame()</span></a>. If it’s not the case the length will be automatically rounded down to the nearest multiple. This is mandatory as it’s not possible to send incomplete frames. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The length must be in range [I2S_TX_RX_FIFO_SIZE;DMA_MAX_TRANSFER_SIZE] ([16, 4096]) </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pRxBuffer</strong> – Transaction buffer to fill with input data </p></li>
<li><p><strong>length</strong> – Length of the buffer </p></li>
<li><p><strong>pCallback</strong> – Callback called when transaction completes </p></li>
<li><p><strong>pUserData</strong> – Data to pass along with the callback </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if no RX channel is configured for phase 0 or phase 1 </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-ESRCH if the driver wasn’t initialized to work in RX direction </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EINVAL if provided buffer is NULL </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EINVAL if length isn’t in range [I2S_TX_RX_FIFO_SIZE;DMA_MAX_TRANSFER_SIZE] </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-EOVERFLOW if transactions queue is full</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425I2S_GetTxTransactionCountv">
<span id="_CPPv325I2S_GetTxTransactionCountv"></span><span id="_CPPv225I2S_GetTxTransactionCountv"></span><span id="I2S_GetTxTransactionCount__void"></span><span class="target" id="d3/d33/group__i2s_1gaca191fa08703144af11b1a84e0c4c53e"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetTxTransactionCount</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425I2S_GetTxTransactionCountv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of transactions in the tx queue. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uint8_t Number of transactions </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425I2S_GetRxTransactionCountv">
<span id="_CPPv325I2S_GetRxTransactionCountv"></span><span id="_CPPv225I2S_GetRxTransactionCountv"></span><span id="I2S_GetRxTransactionCount__void"></span><span class="target" id="d3/d33/group__i2s_1ga2e90d6d4e3c8689b81a627c45dfb5a88"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetRxTransactionCount</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425I2S_GetRxTransactionCountv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of transactions in the rx queue. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uint8_t Number of transactions </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_ClearTransactionsv">
<span id="_CPPv321I2S_ClearTransactionsv"></span><span id="_CPPv221I2S_ClearTransactionsv"></span><span id="I2S_ClearTransactions__void"></span><span class="target" id="d3/d33/group__i2s_1gac0d5a9d5bde8d57d78afedfa9a1b701b"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ClearTransactions</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_ClearTransactionsv" title="Link to this definition"></a><br /></dt>
<dd><p>Clear transactions queues. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Queues cannot be cleared if I2S is running.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>0 on success </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-ACCES if driver is running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411I2S_StartTx8uint32_t">
<span id="_CPPv311I2S_StartTx8uint32_t"></span><span id="_CPPv211I2S_StartTx8uint32_t"></span><span id="I2S_StartTx__uint32_t"></span><span class="target" id="d3/d33/group__i2s_1gab86d47cd5f888edfa3861185e482bf4e"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_StartTx</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nLoops</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411I2S_StartTx8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Start TX transactions. </p>
<p>One loop means each transaction in the queue is executed once. You can pass 0 to start indefinitely.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nLoops</strong> – Number of loops to perform or 0 for infinite </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-ESRCH if the driver wasn’t initialized to work in TX direction </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-ENODATA if the transactions queue is empty </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411I2S_StartRx8uint32_t">
<span id="_CPPv311I2S_StartRx8uint32_t"></span><span id="_CPPv211I2S_StartRx8uint32_t"></span><span id="I2S_StartRx__uint32_t"></span><span class="target" id="d3/d33/group__i2s_1gaa2e9e5409ee17b5862dd1e4e17d3952f"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_StartRx</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nLoops</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411I2S_StartRx8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Start RX transactions. </p>
<p>One loop means each transaction in the queue is executed once. You can pass 0 to start indefinitely.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nLoops</strong> – Number of loops to perform or 0 for infinite </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-ESRCH if the driver wasn’t initialized to work in RX direction </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-ENODATA if the transactions queue is empty </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413I2S_StartRxTx8uint32_t">
<span id="_CPPv313I2S_StartRxTx8uint32_t"></span><span id="_CPPv213I2S_StartRxTx8uint32_t"></span><span id="I2S_StartRxTx__uint32_t"></span><span class="target" id="d3/d33/group__i2s_1ga0314fa70a5172887f13b98d7a7accdd4"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_StartRxTx</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nLoops</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413I2S_StartRxTx8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Start both RX and TX transactions. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function should be preferred to a call to startTx() followed directly by a call to startRx() to ensure correct synchronization between the two directions.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nLoops</strong> – Number of loops to perform or 0 for infinite </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-EACCES if driver is running </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-ESRCH if the driver wasn’t initialized to work in RX+TX direction </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>-ENODATA if one transactions queue is empty </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410I2S_StopTxv">
<span id="_CPPv310I2S_StopTxv"></span><span id="_CPPv210I2S_StopTxv"></span><span id="I2S_StopTx__void"></span><span class="target" id="d3/d33/group__i2s_1ga89ca7f90b90e97369ae62e20d83673e1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_StopTx</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410I2S_StopTxv" title="Link to this definition"></a><br /></dt>
<dd><p>Safe stop tx. </p>
<p>Safe stop means the system waits for the current transaction to finish before disabling I2S and DMA. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410I2S_StopRxv">
<span id="_CPPv310I2S_StopRxv"></span><span id="_CPPv210I2S_StopRxv"></span><span id="I2S_StopRx__void"></span><span class="target" id="d3/d33/group__i2s_1ga4fc873b2aeae713ab3887e8c9b5fa0e2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_StopRx</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410I2S_StopRxv" title="Link to this definition"></a><br /></dt>
<dd><p>Safe stop rx. </p>
<p>Safe stop means the system waits for the current transaction to finish before disabling I2S and DMA. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413I2S_ForceStopv">
<span id="_CPPv313I2S_ForceStopv"></span><span id="_CPPv213I2S_ForceStopv"></span><span id="I2S_ForceStop__void"></span><span class="target" id="d3/d33/group__i2s_1gaa9d107bf4755bc07f392821d8a89d17d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_ForceStop</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413I2S_ForceStopv" title="Link to this definition"></a><br /></dt>
<dd><p>Force disabling I2S and DMA, regardless transactions are running. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415I2S_IsTxWorkingv">
<span id="_CPPv315I2S_IsTxWorkingv"></span><span id="_CPPv215I2S_IsTxWorkingv"></span><span id="I2S_IsTxWorking__void"></span><span class="target" id="d3/d33/group__i2s_1gacccaa49d046a22b9ff2b70ea7fefd091"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_IsTxWorking</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415I2S_IsTxWorkingv" title="Link to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>true If TX transactions are running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415I2S_IsRxWorkingv">
<span id="_CPPv315I2S_IsRxWorkingv"></span><span id="_CPPv215I2S_IsRxWorkingv"></span><span id="I2S_IsRxWorking__void"></span><span class="target" id="d3/d33/group__i2s_1ga8ec9fa701093a72aaab9423c0652c334"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_IsRxWorking</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415I2S_IsRxWorkingv" title="Link to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>true If RX transactions are running </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423I2S_GetTxRemainingLoopsv">
<span id="_CPPv323I2S_GetTxRemainingLoopsv"></span><span id="_CPPv223I2S_GetTxRemainingLoopsv"></span><span id="I2S_GetTxRemainingLoops__void"></span><span class="target" id="d3/d33/group__i2s_1ga1f4a40c7d9d78c8bcdd785a63ef305fa"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetTxRemainingLoops</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423I2S_GetTxRemainingLoopsv" title="Link to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of loops that have to be executed or 0 if infinite or stopped </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423I2S_GetRxRemainingLoopsv">
<span id="_CPPv323I2S_GetRxRemainingLoopsv"></span><span id="_CPPv223I2S_GetRxRemainingLoopsv"></span><span id="I2S_GetRxRemainingLoops__void"></span><span class="target" id="d3/d33/group__i2s_1ga8e79389b38f9c4435448fc3b692c3136"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetRxRemainingLoops</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423I2S_GetRxRemainingLoopsv" title="Link to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of loops that have to be executed or 0 if infinite or stopped </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420I2S_GetBitsPerSample16I2S_SampleSize_t">
<span id="_CPPv320I2S_GetBitsPerSample16I2S_SampleSize_t"></span><span id="_CPPv220I2S_GetBitsPerSample16I2S_SampleSize_t"></span><span id="I2S_GetBitsPerSample__I2S_SampleSize_t"></span><span class="target" id="d3/d33/group__i2s_1ga1deeee0feb4d5db0c83a6ebe87e90d8b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetBitsPerSample</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416I2S_SampleSize_t" title="I2S_SampleSize_t"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sampleSize</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420I2S_GetBitsPerSample16I2S_SampleSize_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of bits for a sample for the given sample size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sampleSize</strong> – sample size configuration </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>uint32_t Number of bits </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_GetBytesPerSample16I2S_SampleSize_t">
<span id="_CPPv321I2S_GetBytesPerSample16I2S_SampleSize_t"></span><span id="_CPPv221I2S_GetBytesPerSample16I2S_SampleSize_t"></span><span id="I2S_GetBytesPerSample__I2S_SampleSize_t"></span><span class="target" id="d3/d33/group__i2s_1ga5a7efdda7f019c5dd88086d418ab1f52"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetBytesPerSample</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416I2S_SampleSize_t" title="I2S_SampleSize_t"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">sampleSize</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_GetBytesPerSample16I2S_SampleSize_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of bytes for a sample for the given sample size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sampleSize</strong> – sample size configuration </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>uint32_t Number of bytes </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_GetBytesPerTxFramev">
<span id="_CPPv322I2S_GetBytesPerTxFramev"></span><span id="_CPPv222I2S_GetBytesPerTxFramev"></span><span id="I2S_GetBytesPerTxFrame__void"></span><span class="target" id="d3/d33/group__i2s_1ga92c262d3e39a037973e6170b231e722a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetBytesPerTxFrame</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_GetBytesPerTxFramev" title="Link to this definition"></a><br /></dt>
<dd><p>Calculate and return the number of bytes that are used in one TX frame (phase0 + phase1) </p>
<p>The transaction buffer length must be a multiple of this value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uint32_t Number of bytes </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_GetBytesPerRxFramev">
<span id="_CPPv322I2S_GetBytesPerRxFramev"></span><span id="_CPPv222I2S_GetBytesPerRxFramev"></span><span id="I2S_GetBytesPerRxFrame__void"></span><span class="target" id="d3/d33/group__i2s_1ga6b3aff96db6a1cd453d4897151104f72"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_GetBytesPerRxFrame</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_GetBytesPerRxFramev" title="Link to this definition"></a><br /></dt>
<dd><p>Calculate and return the number of bytes that are used in one RX frame (phase0 + phase1) </p>
<p>The transaction buffer length must be a multiple of this value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uint32_t Number of bytes </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv411gI2S_Config">
<span id="_CPPv311gI2S_Config"></span><span id="_CPPv211gI2S_Config"></span><span id="gI2S_Config__I2S_Configuration_tV"></span><span class="target" id="d3/d33/group__i2s_1gac402c0bf12f2945d1501e6116308e1ed"></span><span class="k"><span class="pre">volatile</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419I2S_Configuration_t" title="I2S_Configuration_t"><span class="n"><span class="pre">I2S_Configuration_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gI2S_Config</span></span></span><a class="headerlink" href="#_CPPv411gI2S_Config" title="Link to this definition"></a><br /></dt>
<dd><p>I2S configuration data structure. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv419I2S_Configuration_t">
<span id="_CPPv319I2S_Configuration_t"></span><span id="_CPPv219I2S_Configuration_t"></span><span id="I2S_Configuration_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_Configuration_t</span></span></span><a class="headerlink" href="#_CPPv419I2S_Configuration_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;i2s.h&gt;</em></div>
<p>I2S configuration data structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12moduleConfigE">
<span id="_CPPv3N19I2S_Configuration_t12moduleConfigE"></span><span id="_CPPv2N19I2S_Configuration_t12moduleConfigE"></span><span id="I2S_Configuration_t::moduleConfig__Config_ModuleConfiguration_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1ab0160de2324257620479ebafec2b4146"></span><span class="n"><span class="pre">Config_ModuleConfiguration_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">moduleConfig</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12moduleConfigE" title="Link to this definition"></a><br /></dt>
<dd><p>Base structure each module configuration must start with. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16transactionDepthE">
<span id="_CPPv3N19I2S_Configuration_t16transactionDepthE"></span><span id="_CPPv2N19I2S_Configuration_t16transactionDepthE"></span><span id="I2S_Configuration_t::transactionDepth__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a25c0a1f2478e0b8307e40bb51c121ed8"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transactionDepth</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16transactionDepthE" title="Link to this definition"></a><br /></dt>
<dd><p>Transaction queue depth. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t7enabledE">
<span id="_CPPv3N19I2S_Configuration_t7enabledE"></span><span id="_CPPv2N19I2S_Configuration_t7enabledE"></span><span id="I2S_Configuration_t::enabled__b"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a56ce8241c8cae605b2899d87f42b4dcd"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enabled</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t7enabledE" title="Link to this definition"></a><br /></dt>
<dd><p>Driver enable state. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t8gpioSclkE">
<span id="_CPPv3N19I2S_Configuration_t8gpioSclkE"></span><span id="_CPPv2N19I2S_Configuration_t8gpioSclkE"></span><span id="I2S_Configuration_t::gpioSclk__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1aad9453003bf11f856465938ed5bf99e1"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpioSclk</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t8gpioSclkE" title="Link to this definition"></a><br /></dt>
<dd><p>GPIO for I2S serial clock / SCLK / BCLK. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t11gpioSdataInE">
<span id="_CPPv3N19I2S_Configuration_t11gpioSdataInE"></span><span id="_CPPv2N19I2S_Configuration_t11gpioSdataInE"></span><span id="I2S_Configuration_t::gpioSdataIn__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a1f4d870d8f78881d5f3355caa0aa77ce"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpioSdataIn</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t11gpioSdataInE" title="Link to this definition"></a><br /></dt>
<dd><p>GPIO for I2S serial data input / SDIN / DIN Unused in TX_ONLY transfer mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12gpioSdataOutE">
<span id="_CPPv3N19I2S_Configuration_t12gpioSdataOutE"></span><span id="_CPPv2N19I2S_Configuration_t12gpioSdataOutE"></span><span id="I2S_Configuration_t::gpioSdataOut__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a8c03c36dbdd26dd2ae9840ee8f042efe"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpioSdataOut</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12gpioSdataOutE" title="Link to this definition"></a><br /></dt>
<dd><p>GPIO for I2S serial data output / SDOUT / DOUT Unused in RX_ONLY transfer mode </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t9gpioFsyncE">
<span id="_CPPv3N19I2S_Configuration_t9gpioFsyncE"></span><span id="_CPPv2N19I2S_Configuration_t9gpioFsyncE"></span><span id="I2S_Configuration_t::gpioFsync__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a9a3512aa321a51bc52c8dee2261330ab"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpioFsync</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t9gpioFsyncE" title="Link to this definition"></a><br /></dt>
<dd><p>GPIO for I2S Frame synchronization / FSYNC / WS / LRCLK. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t8gpioMclkE">
<span id="_CPPv3N19I2S_Configuration_t8gpioMclkE"></span><span id="_CPPv2N19I2S_Configuration_t8gpioMclkE"></span><span id="I2S_Configuration_t::gpioMclk__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a2bb436d4cadb6b82fb0f97f18601a67c"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gpioMclk</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t8gpioMclkE" title="Link to this definition"></a><br /></dt>
<dd><p>GPIO for I2S master clock / MCLK / MCK Unused if gpioMclk &gt;= NUM_GPIO_PINS </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t7autoClkE">
<span id="_CPPv3N19I2S_Configuration_t7autoClkE"></span><span id="_CPPv2N19I2S_Configuration_t7autoClkE"></span><span id="I2S_Configuration_t::autoClk__b"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a4603a41d7095654955fdf4e6eff695bb"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">autoClk</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t7autoClkE" title="Link to this definition"></a><br /></dt>
<dd><p>Let the driver automatically enable and disable the clocks. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t6configE">
<span id="_CPPv3N19I2S_Configuration_t6configE"></span><span id="_CPPv2N19I2S_Configuration_t6configE"></span><span id="I2S_Configuration_t::config__I2S_Cfg_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a54243b84bd66aff596a0cba81eb9efb3"></span><a class="reference internal" href="#_CPPv49I2S_Cfg_t" title="I2S_Cfg_t"><span class="n"><span class="pre">I2S_Cfg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">config</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t6configE" title="Link to this definition"></a><br /></dt>
<dd><p>I2S hardware configuration <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d6/ddc/union_i2_s___cfg__t"><span class="std std-ref">I2S_Cfg_t</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t6phase0E">
<span id="_CPPv3N19I2S_Configuration_t6phase0E"></span><span id="_CPPv2N19I2S_Configuration_t6phase0E"></span><span id="I2S_Configuration_t::phase0__I2S_PhaseCfg_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a0b46d6a98ce4cce4254090fb9c0a6743"></span><a class="reference internal" href="#_CPPv414I2S_PhaseCfg_t" title="I2S_PhaseCfg_t"><span class="n"><span class="pre">I2S_PhaseCfg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase0</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t6phase0E" title="Link to this definition"></a><br /></dt>
<dd><p>I2S phase0 configuration <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d3/dff/union_i2_s___phase_cfg__t"><span class="std std-ref">I2S_PhaseCfg_t</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t6phase1E">
<span id="_CPPv3N19I2S_Configuration_t6phase1E"></span><span id="_CPPv2N19I2S_Configuration_t6phase1E"></span><span id="I2S_Configuration_t::phase1__I2S_PhaseCfg_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a9b479f960a589ab1f8be47e65f8a846e"></span><a class="reference internal" href="#_CPPv414I2S_PhaseCfg_t" title="I2S_PhaseCfg_t"><span class="n"><span class="pre">I2S_PhaseCfg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase1</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t6phase1E" title="Link to this definition"></a><br /></dt>
<dd><p>I2S phase1 configuration <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d3/dff/union_i2_s___phase_cfg__t"><span class="std std-ref">I2S_PhaseCfg_t</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12transferModeE">
<span id="_CPPv3N19I2S_Configuration_t12transferModeE"></span><span id="_CPPv2N19I2S_Configuration_t12transferModeE"></span><span id="I2S_Configuration_t::transferMode__I2S_TransferMode_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a74290a4853fc48b71cd66ec807ea91b2"></span><a class="reference internal" href="#_CPPv418I2S_TransferMode_t" title="I2S_TransferMode_t"><span class="n"><span class="pre">I2S_TransferMode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transferMode</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12transferModeE" title="Link to this definition"></a><br /></dt>
<dd><p>I2S transfer mode <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d8/d6e/group__i2s__hal_1gab4763f6119a5fec4e507f37bb6ada751"><span class="std std-ref">I2S_TransferMode_t</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16phase0TxChannelsE">
<span id="_CPPv3N19I2S_Configuration_t16phase0TxChannelsE"></span><span id="_CPPv2N19I2S_Configuration_t16phase0TxChannelsE"></span><span id="I2S_Configuration_t::phase0TxChannels__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a67f19b70ecb23a895ffc467ff5797e90"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase0TxChannels</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16phase0TxChannelsE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of channels for phase0 TX. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16phase1TxChannelsE">
<span id="_CPPv3N19I2S_Configuration_t16phase1TxChannelsE"></span><span id="_CPPv2N19I2S_Configuration_t16phase1TxChannelsE"></span><span id="I2S_Configuration_t::phase1TxChannels__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1af1f89e486746f1250cd9e5a7261e24ba"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase1TxChannels</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16phase1TxChannelsE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of channels for phase1 TX. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16phase0RxChannelsE">
<span id="_CPPv3N19I2S_Configuration_t16phase0RxChannelsE"></span><span id="_CPPv2N19I2S_Configuration_t16phase0RxChannelsE"></span><span id="I2S_Configuration_t::phase0RxChannels__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1ac520ec6007f86d45d99d3027b101329a"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase0RxChannels</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16phase0RxChannelsE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of channels for phase0 RX. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16phase1RxChannelsE">
<span id="_CPPv3N19I2S_Configuration_t16phase1RxChannelsE"></span><span id="_CPPv2N19I2S_Configuration_t16phase1RxChannelsE"></span><span id="I2S_Configuration_t::phase1RxChannels__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a325b921d6c09bb1cac35a3c8123f478c"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase1RxChannels</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16phase1RxChannelsE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of channels for phase1 RX. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12samplingRateE">
<span id="_CPPv3N19I2S_Configuration_t12samplingRateE"></span><span id="_CPPv2N19I2S_Configuration_t12samplingRateE"></span><span id="I2S_Configuration_t::samplingRate__I2S_SamplingRate_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1afcf583b5b253d1634b992f50d054daf2"></span><a class="reference internal" href="#_CPPv418I2S_SamplingRate_t" title="I2S_SamplingRate_t"><span class="n"><span class="pre">I2S_SamplingRate_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">samplingRate</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12samplingRateE" title="Link to this definition"></a><br /></dt>
<dd><p>I2S sampling rate <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d8/d6e/group__i2s__hal_1ga91d246c296fe336093129b7b855c4ab9"><span class="std std-ref">I2S_SamplingRate_t</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16masterClockRatioE">
<span id="_CPPv3N19I2S_Configuration_t16masterClockRatioE"></span><span id="_CPPv2N19I2S_Configuration_t16masterClockRatioE"></span><span id="I2S_Configuration_t::masterClockRatio__uint16_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a89df6dac53fd9ae1028ae021f79f58d1"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">masterClockRatio</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16masterClockRatioE" title="Link to this definition"></a><br /></dt>
<dd><p>Master clock ratio masterClockRatio * samplingRate = Master clock frequency (in hertz) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t16serialClockRatioE">
<span id="_CPPv3N19I2S_Configuration_t16serialClockRatioE"></span><span id="_CPPv2N19I2S_Configuration_t16serialClockRatioE"></span><span id="I2S_Configuration_t::serialClockRatio__uint16_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a1ad5e504a32a88377858ef679f82625f"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">serialClockRatio</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t16serialClockRatioE" title="Link to this definition"></a><br /></dt>
<dd><p>Serial clock ratio serialClockRatio * samplingRate = Serial clock frequency (in hertz) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12phase0LengthE">
<span id="_CPPv3N19I2S_Configuration_t12phase0LengthE"></span><span id="_CPPv2N19I2S_Configuration_t12phase0LengthE"></span><span id="I2S_Configuration_t::phase0Length__uint16_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a1795b0f05b0aa46471e2652f167346cb"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phase0Length</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12phase0LengthE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase0 length in term of sclk cycles when configured by sw. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t11fsyncLengthE">
<span id="_CPPv3N19I2S_Configuration_t11fsyncLengthE"></span><span id="_CPPv2N19I2S_Configuration_t11fsyncLengthE"></span><span id="I2S_Configuration_t::fsyncLength__uint16_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1ac8ad7a267615411035f69108c325825b"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsyncLength</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t11fsyncLengthE" title="Link to this definition"></a><br /></dt>
<dd><p>Fsync length in term of sclk cycles. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12dmaChannelTxE">
<span id="_CPPv3N19I2S_Configuration_t12dmaChannelTxE"></span><span id="_CPPv2N19I2S_Configuration_t12dmaChannelTxE"></span><span id="I2S_Configuration_t::dmaChannelTx__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a333cce26b46ad746b4119a6a327e51b2"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dmaChannelTx</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12dmaChannelTxE" title="Link to this definition"></a><br /></dt>
<dd><p>DMA channel for TX operation Shouldn’t be modified ! </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19I2S_Configuration_t12dmaChannelRxE">
<span id="_CPPv3N19I2S_Configuration_t12dmaChannelRxE"></span><span id="_CPPv2N19I2S_Configuration_t12dmaChannelRxE"></span><span id="I2S_Configuration_t::dmaChannelRx__uint8_t"></span><span class="target" id="d1/d8b/struct_i2_s___configuration__t_1a633c7e8bb330eecb92f9f32bb63e100d"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dmaChannelRx</span></span></span><a class="headerlink" href="#_CPPv4N19I2S_Configuration_t12dmaChannelRxE" title="Link to this definition"></a><br /></dt>
<dd><p>DMA channel for RX operation Shouldn’t be modified ! </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420I2S_BufferReadyEvt_t">
<span id="_CPPv320I2S_BufferReadyEvt_t"></span><span id="_CPPv220I2S_BufferReadyEvt_t"></span><span id="I2S_BufferReadyEvt_t"></span><span class="target" id="d1/d91/struct_i2_s___buffer_ready_evt__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_BufferReadyEvt_t</span></span></span><a class="headerlink" href="#_CPPv420I2S_BufferReadyEvt_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;i2s.h&gt;</em></div>
<p>I2S Buffer ready event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20I2S_BufferReadyEvt_t7pBufferE">
<span id="_CPPv3N20I2S_BufferReadyEvt_t7pBufferE"></span><span id="_CPPv2N20I2S_BufferReadyEvt_t7pBufferE"></span><span id="I2S_BufferReadyEvt_t::pBuffer__uint8_tP"></span><span class="target" id="d1/d91/struct_i2_s___buffer_ready_evt__t_1ae2cfae5708924f1b10f7655078f0b7d1"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pBuffer</span></span></span><a class="headerlink" href="#_CPPv4N20I2S_BufferReadyEvt_t7pBufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Buffer hold by the event. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20I2S_BufferReadyEvt_t6lengthE">
<span id="_CPPv3N20I2S_BufferReadyEvt_t6lengthE"></span><span id="_CPPv2N20I2S_BufferReadyEvt_t6lengthE"></span><span id="I2S_BufferReadyEvt_t::length__uint16_t"></span><span class="target" id="d1/d91/struct_i2_s___buffer_ready_evt__t_1a05197b2dd3add947ad19b833cf657b2f"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">length</span></span></span><a class="headerlink" href="#_CPPv4N20I2S_BufferReadyEvt_t6lengthE" title="Link to this definition"></a><br /></dt>
<dd><p>Length of the buffer. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv411I2S_Event_t">
<span id="_CPPv311I2S_Event_t"></span><span id="_CPPv211I2S_Event_t"></span><span id="I2S_Event_t"></span><span class="target" id="dd/dce/struct_i2_s___event__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_Event_t</span></span></span><a class="headerlink" href="#_CPPv411I2S_Event_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;i2s.h&gt;</em></div>
<p>I2S event used to inform about the driver state. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11I2S_Event_t4typeE">
<span id="_CPPv3N11I2S_Event_t4typeE"></span><span id="_CPPv2N11I2S_Event_t4typeE"></span><span id="I2S_Event_t::type__I2S_EventType_t"></span><span class="target" id="dd/dce/struct_i2_s___event__t_1af812f727f9ee78a4d9d741a2e4145dae"></span><a class="reference internal" href="#_CPPv415I2S_EventType_t" title="I2S_EventType_t"><span class="n"><span class="pre">I2S_EventType_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#_CPPv4N11I2S_Event_t4typeE" title="Link to this definition"></a><br /></dt>
<dd><p>Event type <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d8/d6e/group__i2s__hal_1ga1826fd2cb59d3a041ab3caecd018d08f"><span class="std std-ref">I2S_EventType_t</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11I2S_Event_t6statusE">
<span id="_CPPv3N11I2S_Event_t6statusE"></span><span id="_CPPv2N11I2S_Event_t6statusE"></span><span id="I2S_Event_t::status__I2S_EventStatus_t"></span><span class="target" id="dd/dce/struct_i2_s___event__t_1a768a45f8bb812759a86428000016827a"></span><a class="reference internal" href="#_CPPv417I2S_EventStatus_t" title="I2S_EventStatus_t"><span class="n"><span class="pre">I2S_EventStatus_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">status</span></span></span><a class="headerlink" href="#_CPPv4N11I2S_Event_t6statusE" title="Link to this definition"></a><br /></dt>
<dd><p>Status of the event (TX or RX transaction) <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#d8/d6e/group__i2s__hal_1ga41ba182d78b63afb379a266ab6a36138"><span class="std std-ref">I2S_EventStatus_t</span></a></p>
</div>
</p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="hal-api">
<h2>HAL API<a class="headerlink" href="#hal-api" title="Link to this heading"></a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="d8/d6e/group__i2s__hal"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">i2s_hal</span></span></dt>
<dd><p>HAL Driver for the I2S driver. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_TX_FIFO_1B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1ga1c287d25deb87f802ffb033e4372c6bb"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_FIFO_1B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sTxFifo1B.r32)</span><a class="headerlink" href="#c.I2S_TX_FIFO_1B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>TX FIFO access to push 1 byte. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_TX_FIFO_2B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1ga9b448abe0a8afe657f69b7c7f053a427"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_FIFO_2B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sTxFifo2B.r32)</span><a class="headerlink" href="#c.I2S_TX_FIFO_2B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>TX FIFO access to push 2 bytes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_TX_FIFO_3B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1gaf27f1e770a879b9ab21654bb30fd6d8f"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_FIFO_3B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sTxFifo3B.r32)</span><a class="headerlink" href="#c.I2S_TX_FIFO_3B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>TX FIFO access to push 3 bytes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_TX_FIFO_4B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1gab3654c64f6768e6004460282a65e0285"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_FIFO_4B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sTxFifo4B.r32)</span><a class="headerlink" href="#c.I2S_TX_FIFO_4B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>TX FIFO access to push 4 bytes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_RX_FIFO_1B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1ga2a998320a52184941ced65f36288d491"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_RX_FIFO_1B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sRxFifo1B.r32)</span><a class="headerlink" href="#c.I2S_RX_FIFO_1B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>RX FIFO access to pop 1 byte. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_RX_FIFO_2B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1ga20be2ad190dfc0c61102a7583c439f14"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_RX_FIFO_2B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sRxFifo2B.r32)</span><a class="headerlink" href="#c.I2S_RX_FIFO_2B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>RX FIFO access to pop 2 bytes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_RX_FIFO_3B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1ga5cdb67111a649b89ca7fc28e58a1b5a7"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_RX_FIFO_3B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sRxFifo3B.r32)</span><a class="headerlink" href="#c.I2S_RX_FIFO_3B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>RX FIFO access to pop 3 bytes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_RX_FIFO_4B_ADDR">
<span class="target" id="d8/d6e/group__i2s__hal_1ga6e4fa9120a0d8dd4f34c67c8d9b68684"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_RX_FIFO_4B_ADDR</span></span></span> <span class="pre">(&amp;I2S-&gt;RegI2sRxFifo4B.r32)</span><a class="headerlink" href="#c.I2S_RX_FIFO_4B_ADDR" title="Link to this definition"></a><br /></dt>
<dd><p>RX FIFO access to pop 4 bytes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.I2S_TX_RX_FIFO_SIZE">
<span class="target" id="d8/d6e/group__i2s__hal_1ga4528c74fa29df364edc7553953ecd11c"></span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_RX_FIFO_SIZE</span></span></span> <span class="pre">(16u)</span><a class="headerlink" href="#c.I2S_TX_RX_FIFO_SIZE" title="Link to this definition"></a><br /></dt>
<dd><p>TX/RX FIFO size. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv410I2S_Mode_t">
<span id="_CPPv310I2S_Mode_t"></span><span id="_CPPv210I2S_Mode_t"></span><span id="I2S_Mode_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaa1c232599a275ec8dbddd9be1df7a803"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_Mode_t</span></span></span><a class="headerlink" href="#_CPPv410I2S_Mode_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S mode enumeration. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414I2S_Protocol_t">
<span id="_CPPv314I2S_Protocol_t"></span><span id="_CPPv214I2S_Protocol_t"></span><span id="I2S_Protocol_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga25dd1174794a88d3a36a909acc9eddd2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_Protocol_t</span></span></span><a class="headerlink" href="#_CPPv414I2S_Protocol_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S protocol enumeration. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv416I2S_SampleSize_t">
<span id="_CPPv316I2S_SampleSize_t"></span><span id="_CPPv216I2S_SampleSize_t"></span><span id="I2S_SampleSize_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gac031bee24f07ba7472b81e6c3a88ddb8"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></span><a class="headerlink" href="#_CPPv416I2S_SampleSize_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S sample sizes enumeration. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421I2S_PhaseLengthMode_t">
<span id="_CPPv321I2S_PhaseLengthMode_t"></span><span id="_CPPv221I2S_PhaseLengthMode_t"></span><span id="I2S_PhaseLengthMode_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga637b1f7032c2c03a4f5a670e8959b1ac"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PhaseLengthMode_t</span></span></span><a class="headerlink" href="#_CPPv421I2S_PhaseLengthMode_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S Phase 0 length mode enumeration. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv417I2S_EventStatus_t">
<span id="_CPPv317I2S_EventStatus_t"></span><span id="_CPPv217I2S_EventStatus_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga41ba182d78b63afb379a266ab6a36138"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_EventStatus_t</span></span></span><a class="headerlink" href="#_CPPv417I2S_EventStatus_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S Transaction type. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17I2S_EventStatus_t13I2S_STATUS_TXE">
<span id="_CPPv3N17I2S_EventStatus_t13I2S_STATUS_TXE"></span><span id="_CPPv2N17I2S_EventStatus_t13I2S_STATUS_TXE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga41ba182d78b63afb379a266ab6a36138a035a6c694f5089a1afa7edeaa6c451c3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STATUS_TX</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17I2S_EventStatus_t13I2S_STATUS_TXE" title="Link to this definition"></a><br /></dt>
<dd><p>Event transaction is of TX direction. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17I2S_EventStatus_t13I2S_STATUS_RXE">
<span id="_CPPv3N17I2S_EventStatus_t13I2S_STATUS_RXE"></span><span id="_CPPv2N17I2S_EventStatus_t13I2S_STATUS_RXE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga41ba182d78b63afb379a266ab6a36138af79d7e51f448df91a87fe7b7fd30fe6f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_STATUS_RX</span></span></span><a class="headerlink" href="#_CPPv4N17I2S_EventStatus_t13I2S_STATUS_RXE" title="Link to this definition"></a><br /></dt>
<dd><p>Event transaction is of RX direction. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv415I2S_EventType_t">
<span id="_CPPv315I2S_EventType_t"></span><span id="_CPPv215I2S_EventType_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga1826fd2cb59d3a041ab3caecd018d08f"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_EventType_t</span></span></span><a class="headerlink" href="#_CPPv415I2S_EventType_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S Transaction status. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15I2S_EventType_t20I2S_EVT_BUFFER_READYE">
<span id="_CPPv3N15I2S_EventType_t20I2S_EVT_BUFFER_READYE"></span><span id="_CPPv2N15I2S_EventType_t20I2S_EVT_BUFFER_READYE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga1826fd2cb59d3a041ab3caecd018d08faf8ee14b184e6fde55bc96f15d9661881"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_EVT_BUFFER_READY</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N15I2S_EventType_t20I2S_EVT_BUFFER_READYE" title="Link to this definition"></a><br /></dt>
<dd><p>The buffer that is hold by the event is ready for use by the user application. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15I2S_EventType_t16I2S_EVT_FINISHEDE">
<span id="_CPPv3N15I2S_EventType_t16I2S_EVT_FINISHEDE"></span><span id="_CPPv2N15I2S_EventType_t16I2S_EVT_FINISHEDE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga1826fd2cb59d3a041ab3caecd018d08fa007eed8b6750c196c173ae7b596af386"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_EVT_FINISHED</span></span></span><a class="headerlink" href="#_CPPv4N15I2S_EventType_t16I2S_EVT_FINISHEDE" title="Link to this definition"></a><br /></dt>
<dd><p>Transactions finished for the direction. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15I2S_EventType_t18I2S_EVT_SYNC_ERRORE">
<span id="_CPPv3N15I2S_EventType_t18I2S_EVT_SYNC_ERRORE"></span><span id="_CPPv2N15I2S_EventType_t18I2S_EVT_SYNC_ERRORE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga1826fd2cb59d3a041ab3caecd018d08fabc20fc87edf7ec10a1bcd5d491465a44"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_EVT_SYNC_ERROR</span></span></span><a class="headerlink" href="#_CPPv4N15I2S_EventType_t18I2S_EVT_SYNC_ERRORE" title="Link to this definition"></a><br /></dt>
<dd><p>Driver and DMA synchronization error. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15I2S_EventType_t17I2S_EVT_DMA_ERRORE">
<span id="_CPPv3N15I2S_EventType_t17I2S_EVT_DMA_ERRORE"></span><span id="_CPPv2N15I2S_EventType_t17I2S_EVT_DMA_ERRORE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga1826fd2cb59d3a041ab3caecd018d08faffde1e101c56f0320506fb7d27d77513"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_EVT_DMA_ERROR</span></span></span><a class="headerlink" href="#_CPPv4N15I2S_EventType_t17I2S_EVT_DMA_ERRORE" title="Link to this definition"></a><br /></dt>
<dd><p>DMA error. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv411I2S_Phase_t">
<span id="_CPPv311I2S_Phase_t"></span><span id="_CPPv211I2S_Phase_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gad06a02d301b436c44274bb6144bc7b56"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_Phase_t</span></span></span><a class="headerlink" href="#_CPPv411I2S_Phase_t" title="Link to this definition"></a><br /></dt>
<dd><p>I2S phase. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11I2S_Phase_t10I2S_PHASE0E">
<span id="_CPPv3N11I2S_Phase_t10I2S_PHASE0E"></span><span id="_CPPv2N11I2S_Phase_t10I2S_PHASE0E"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggad06a02d301b436c44274bb6144bc7b56ac8ca5be59bacbba36f54c49646ddfec2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PHASE0</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N11I2S_Phase_t10I2S_PHASE0E" title="Link to this definition"></a><br /></dt>
<dd><p>Phase 0. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11I2S_Phase_t10I2S_PHASE1E">
<span id="_CPPv3N11I2S_Phase_t10I2S_PHASE1E"></span><span id="_CPPv2N11I2S_Phase_t10I2S_PHASE1E"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggad06a02d301b436c44274bb6144bc7b56a98a0459597201369bbd13b9553ffb317"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PHASE1</span></span></span><a class="headerlink" href="#_CPPv4N11I2S_Phase_t10I2S_PHASE1E" title="Link to this definition"></a><br /></dt>
<dd><p>Phase 1. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut2_19">
<span id="_CPPv3Ut2_19"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaf9bdc3014f3d54c426b6d2df10de4960"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#_CPPv4Ut2_19" title="Link to this definition"></a><br /></dt>
<dd><p>I2S mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_1914I2S_SLAVE_MODEE">
<span id="_CPPv3NUt2_1914I2S_SLAVE_MODEE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaf9bdc3014f3d54c426b6d2df10de4960a0b72544fb3abc9227c0a9dd426e1b22a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SLAVE_MODE</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4NUt2_1914I2S_SLAVE_MODEE" title="Link to this definition"></a><br /></dt>
<dd><p>Slave mode. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_1915I2S_MASTER_MODEE">
<span id="_CPPv3NUt2_1915I2S_MASTER_MODEE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaf9bdc3014f3d54c426b6d2df10de4960aa42784dc3a37e352bd4423e6dc1b3a01"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_MASTER_MODE</span></span></span><a class="headerlink" href="#_CPPv4NUt2_1915I2S_MASTER_MODEE" title="Link to this definition"></a><br /></dt>
<dd><p>Master mode. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut2_20">
<span id="_CPPv3Ut2_20"></span><span class="target" id="d8/d6e/group__i2s__hal_1gadb49720dc49f7d4e4cf9adbf2948e409"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#_CPPv4Ut2_20" title="Link to this definition"></a><br /></dt>
<dd><p>I2S protocol. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2016I2S_PROTOCOL_TDME">
<span id="_CPPv3NUt2_2016I2S_PROTOCOL_TDME"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggadb49720dc49f7d4e4cf9adbf2948e409a23aa1109f40b9187893fcc6df457881a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PROTOCOL_TDM</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4NUt2_2016I2S_PROTOCOL_TDME" title="Link to this definition"></a><br /></dt>
<dd><p>TDM protocol. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2016I2S_PROTOCOL_I2SE">
<span id="_CPPv3NUt2_2016I2S_PROTOCOL_I2SE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggadb49720dc49f7d4e4cf9adbf2948e409a8d940f1580db3d7ba805a8ad445407e1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PROTOCOL_I2S</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2016I2S_PROTOCOL_I2SE" title="Link to this definition"></a><br /></dt>
<dd><p>I2S protocol. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2028I2S_PROTOCOL_RIGHT_JUSTIFIEDE">
<span id="_CPPv3NUt2_2028I2S_PROTOCOL_RIGHT_JUSTIFIEDE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggadb49720dc49f7d4e4cf9adbf2948e409aa89b3bd8e888e759bdad5f43346e3729"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PROTOCOL_RIGHT_JUSTIFIED</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2028I2S_PROTOCOL_RIGHT_JUSTIFIEDE" title="Link to this definition"></a><br /></dt>
<dd><p>Right justified protocol. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut2_21">
<span id="_CPPv3Ut2_21"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaae05225933a42f81e7c4a9fb286596f9"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#_CPPv4Ut2_21" title="Link to this definition"></a><br /></dt>
<dd><p>Sampling format of the I2S. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2122I2S_SAMPLE_FORMAT_8BITE">
<span id="_CPPv3NUt2_2122I2S_SAMPLE_FORMAT_8BITE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaae05225933a42f81e7c4a9fb286596f9a7adcd75406d25121e31652d03cdabed1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_FORMAT_8BIT</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4NUt2_2122I2S_SAMPLE_FORMAT_8BITE" title="Link to this definition"></a><br /></dt>
<dd><p>8 bits data format </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_12BITE">
<span id="_CPPv3NUt2_2123I2S_SAMPLE_FORMAT_12BITE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaae05225933a42f81e7c4a9fb286596f9afc7c7b8e4b2f8ed0b7969350053641a8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_FORMAT_12BIT</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_12BITE" title="Link to this definition"></a><br /></dt>
<dd><p>12 bits data format </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_16BITE">
<span id="_CPPv3NUt2_2123I2S_SAMPLE_FORMAT_16BITE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaae05225933a42f81e7c4a9fb286596f9a2d1ca78c6a38205aef94708c6861b7ad"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_FORMAT_16BIT</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_16BITE" title="Link to this definition"></a><br /></dt>
<dd><p>16 bits data format </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_20BITE">
<span id="_CPPv3NUt2_2123I2S_SAMPLE_FORMAT_20BITE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaae05225933a42f81e7c4a9fb286596f9a7f7ec993a7d205692cb9edcb70de09d8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_FORMAT_20BIT</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_20BITE" title="Link to this definition"></a><br /></dt>
<dd><p>20 bits data format </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_24BITE">
<span id="_CPPv3NUt2_2123I2S_SAMPLE_FORMAT_24BITE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaae05225933a42f81e7c4a9fb286596f9a2638c42c8d9f327505bc140162ad6e50"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_FORMAT_24BIT</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_24BITE" title="Link to this definition"></a><br /></dt>
<dd><p>24 bits data format </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_32BITE">
<span id="_CPPv3NUt2_2123I2S_SAMPLE_FORMAT_32BITE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggaae05225933a42f81e7c4a9fb286596f9aecee84d538342f9aa3c6c2624519a411"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_FORMAT_32BIT</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2123I2S_SAMPLE_FORMAT_32BITE" title="Link to this definition"></a><br /></dt>
<dd><p>32 bits data format </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418I2S_SamplingRate_t">
<span id="_CPPv318I2S_SamplingRate_t"></span><span id="_CPPv218I2S_SamplingRate_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga91d246c296fe336093129b7b855c4ab9"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SamplingRate_t</span></span></span><a class="headerlink" href="#_CPPv418I2S_SamplingRate_t" title="Link to this definition"></a><br /></dt>
<dd><p>Sampling rate frequency. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t20I2S_SAMPLE_RATE_8KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t20I2S_SAMPLE_RATE_8KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t20I2S_SAMPLE_RATE_8KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9af4e4a7bfeba136329d9de36dadec005b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_8KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">8000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t20I2S_SAMPLE_RATE_8KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>8000 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_11KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_11KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_11KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9a2eab7d41d01bff3fc77e9a416be41506"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_11KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">11025</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_11KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>11025 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_16KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_16KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_16KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9a5477659c93dd9e4475cfe48bf8b3e0cd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_16KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">16000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_16KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>16000 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_22KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_22KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_22KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9a6f5af3e2f9ed626720d492ca1773e07b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_22KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">22050</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_22KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>22050 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_32KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_32KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_32KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9af41dbe70d6f51f245e421ddc20a6b550"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_32KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">32000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_32KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>32000 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_44KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_44KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_44KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9a4970bccb671203a6d8c7f22cf77be218"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_44KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">44100</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_44KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>44100 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_48KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_48KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_48KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9ae5ce07f82e24067503b5c0f2c784e8be"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_48KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">48000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_48KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>48000 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_88KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_88KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_88KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9ac018f8381dc42cbd7b445290e1fa8daa"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_88KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">88200</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_88KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>88200 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_96KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_96KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_96KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9ad55c2fcd9a412cf5ceadf44f6d4d9c45"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_96KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">96000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t21I2S_SAMPLE_RATE_96KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>96000 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_128KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_128KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_128KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9a7b7d1458271cbe88edec95885e6c92a6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_128KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">128000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_128KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>128000 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_176KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_176KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_176KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9ab5e66cf8ddf7fb97020be412d76013a2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_176KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">176400</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_176KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>176400 Hz data rate </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_192KHZE">
<span id="_CPPv3N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_192KHZE"></span><span id="_CPPv2N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_192KHZE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga91d246c296fe336093129b7b855c4ab9ab3feafbe0df1b1af735b2fae59f7e427"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_SAMPLE_RATE_192KHZ</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">192000</span></span><a class="headerlink" href="#_CPPv4N18I2S_SamplingRate_t22I2S_SAMPLE_RATE_192KHZE" title="Link to this definition"></a><br /></dt>
<dd><p>192000 Hz data rate </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418I2S_TransferMode_t">
<span id="_CPPv318I2S_TransferMode_t"></span><span id="_CPPv218I2S_TransferMode_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gab4763f6119a5fec4e507f37bb6ada751"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TransferMode_t</span></span></span><a class="headerlink" href="#_CPPv418I2S_TransferMode_t" title="Link to this definition"></a><br /></dt>
<dd><p>Transfer mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_TransferMode_t11I2S_TX_ONLYE">
<span id="_CPPv3N18I2S_TransferMode_t11I2S_TX_ONLYE"></span><span id="_CPPv2N18I2S_TransferMode_t11I2S_TX_ONLYE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggab4763f6119a5fec4e507f37bb6ada751a9f21b78cc5d7a3087037616e61277cbb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_ONLY</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x01</span></span><a class="headerlink" href="#_CPPv4N18I2S_TransferMode_t11I2S_TX_ONLYE" title="Link to this definition"></a><br /></dt>
<dd><p>Only TX. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_TransferMode_t11I2S_RX_ONLYE">
<span id="_CPPv3N18I2S_TransferMode_t11I2S_RX_ONLYE"></span><span id="_CPPv2N18I2S_TransferMode_t11I2S_RX_ONLYE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggab4763f6119a5fec4e507f37bb6ada751a217a2438db71e66bfcf9dcbd470ce918"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_RX_ONLY</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x02</span></span><a class="headerlink" href="#_CPPv4N18I2S_TransferMode_t11I2S_RX_ONLYE" title="Link to this definition"></a><br /></dt>
<dd><p>Only RX. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18I2S_TransferMode_t9I2S_TX_RXE">
<span id="_CPPv3N18I2S_TransferMode_t9I2S_TX_RXE"></span><span id="_CPPv2N18I2S_TransferMode_t9I2S_TX_RXE"></span><span class="target" id="d8/d6e/group__i2s__hal_1ggab4763f6119a5fec4e507f37bb6ada751a6f8c1675680ad54fcf68533c36d97b0c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_TX_RX</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x03</span></span><a class="headerlink" href="#_CPPv4N18I2S_TransferMode_t9I2S_TX_RXE" title="Link to this definition"></a><br /></dt>
<dd><p>Both TX and RX. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4Ut2_22">
<span id="_CPPv3Ut2_22"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga39fca1837c5ce7715cbf571669660c13"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><a class="headerlink" href="#_CPPv4Ut2_22" title="Link to this definition"></a><br /></dt>
<dd><p>Phase 0 length mode. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2235I2S_PHASE0_LENGTH_FSYNC_PERIOD_DIV2E">
<span id="_CPPv3NUt2_2235I2S_PHASE0_LENGTH_FSYNC_PERIOD_DIV2E"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga39fca1837c5ce7715cbf571669660c13a25adaacfb38a463abcc516b691485962"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PHASE0_LENGTH_FSYNC_PERIOD_DIV2</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4NUt2_2235I2S_PHASE0_LENGTH_FSYNC_PERIOD_DIV2E" title="Link to this definition"></a><br /></dt>
<dd><p>Phase0 length is calculated as the frame period / 2 </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2228I2S_PHASE0_LENGTH_FSYNC_EDGEE">
<span id="_CPPv3NUt2_2228I2S_PHASE0_LENGTH_FSYNC_EDGEE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga39fca1837c5ce7715cbf571669660c13a7aae56e70fcd8446a96916fb518b917d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PHASE0_LENGTH_FSYNC_EDGE</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2228I2S_PHASE0_LENGTH_FSYNC_EDGEE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase0 length is determined by the polarity of fsync Phase0 starts when fsync transitions from inactive to active, and ends when fsync transitions from active to inactive </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2226I2S_PHASE0_LENGTH_SW_VALUEE">
<span id="_CPPv3NUt2_2226I2S_PHASE0_LENGTH_SW_VALUEE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga39fca1837c5ce7715cbf571669660c13a649396368c55c4e452dc69fb602a5271"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PHASE0_LENGTH_SW_VALUE</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2226I2S_PHASE0_LENGTH_SW_VALUEE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase0 length is configured by software </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4NUt2_2230I2S_PHASE0_LENGTH_FRAME_PERIODE">
<span id="_CPPv3NUt2_2230I2S_PHASE0_LENGTH_FRAME_PERIODE"></span><span class="target" id="d8/d6e/group__i2s__hal_1gga39fca1837c5ce7715cbf571669660c13ab37ccb4fcd7c253472e397abeb5f7fac"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PHASE0_LENGTH_FRAME_PERIOD</span></span></span><a class="headerlink" href="#_CPPv4NUt2_2230I2S_PHASE0_LENGTH_FRAME_PERIODE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase0 length equals the frame period, meaning phase 1 is discarded </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420I2S_HAL_SetDataDelay11I2S_Phase_t8uint16_t">
<span id="_CPPv320I2S_HAL_SetDataDelay11I2S_Phase_t8uint16_t"></span><span id="_CPPv220I2S_HAL_SetDataDelay11I2S_Phase_t8uint16_t"></span><span id="I2S_HAL_SetDataDelay__I2S_Phase_t.uint16_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaedda63495b2c53ba43da0b48397cd65b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetDataDelay</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411I2S_Phase_t" title="I2S_Phase_t"><span class="n"><span class="pre">I2S_Phase_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">phase</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420I2S_HAL_SetDataDelay11I2S_Phase_t8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Delay between start of phase and first data bit (expressed in SCLK cycles) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> – The phase (I2S_PHASE0 or I2S_PHASE1) </p></li>
<li><p><strong>value</strong> – The delay </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_HAL_SetSampleSize11I2S_Phase_t16I2S_SampleSize_t">
<span id="_CPPv321I2S_HAL_SetSampleSize11I2S_Phase_t16I2S_SampleSize_t"></span><span id="_CPPv221I2S_HAL_SetSampleSize11I2S_Phase_t16I2S_SampleSize_t"></span><span id="I2S_HAL_SetSampleSize__I2S_Phase_t.I2S_SampleSize_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga586b0f7cad2a8adebbbdab0918bcbe3a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetSampleSize</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411I2S_Phase_t" title="I2S_Phase_t"><span class="n"><span class="pre">I2S_Phase_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">phase</span></span>, <a class="reference internal" href="#_CPPv416I2S_SampleSize_t" title="I2S_SampleSize_t"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_HAL_SetSampleSize11I2S_Phase_t16I2S_SampleSize_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the sample size for the given phase. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> – The phase (I2S_PHASE0 or I2S_PHASE1) </p></li>
<li><p><strong>value</strong> – The sample size </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426I2S_HAL_SetPhaseTxChannels11I2S_Phase_t7uint8_t">
<span id="_CPPv326I2S_HAL_SetPhaseTxChannels11I2S_Phase_t7uint8_t"></span><span id="_CPPv226I2S_HAL_SetPhaseTxChannels11I2S_Phase_t7uint8_t"></span><span id="I2S_HAL_SetPhaseTxChannels__I2S_Phase_t.uint8_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gad4a51f84b45bce6a07519b6d1ab42259"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetPhaseTxChannels</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411I2S_Phase_t" title="I2S_Phase_t"><span class="n"><span class="pre">I2S_Phase_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">phase</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426I2S_HAL_SetPhaseTxChannels11I2S_Phase_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the amount of TX channels mapped on phase (range : 0 to 32) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> – The phase (I2S_PHASE0 or I2S_PHASE1) </p></li>
<li><p><strong>value</strong> – The amount of TX channels </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426I2S_HAL_SetPhaseRxChannels11I2S_Phase_t7uint8_t">
<span id="_CPPv326I2S_HAL_SetPhaseRxChannels11I2S_Phase_t7uint8_t"></span><span id="_CPPv226I2S_HAL_SetPhaseRxChannels11I2S_Phase_t7uint8_t"></span><span id="I2S_HAL_SetPhaseRxChannels__I2S_Phase_t.uint8_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gae21f7d90724f62b64e7786fdcbd9bc7d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetPhaseRxChannels</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411I2S_Phase_t" title="I2S_Phase_t"><span class="n"><span class="pre">I2S_Phase_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">phase</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426I2S_HAL_SetPhaseRxChannels11I2S_Phase_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the amount of RX channels mapped on phase (range : 0 to 32) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> – The phase (I2S_PHASE0 or I2S_PHASE1) </p></li>
<li><p><strong>value</strong> – The amount of RX channels </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_SetPhaseConfig11I2S_Phase_t14I2S_PhaseCfg_t">
<span id="_CPPv322I2S_HAL_SetPhaseConfig11I2S_Phase_t14I2S_PhaseCfg_t"></span><span id="_CPPv222I2S_HAL_SetPhaseConfig11I2S_Phase_t14I2S_PhaseCfg_t"></span><span id="I2S_HAL_SetPhaseConfig__I2S_Phase_t.I2S_PhaseCfg_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga29b401516175deb5dbcf1c44a9794a9a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetPhaseConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411I2S_Phase_t" title="I2S_Phase_t"><span class="n"><span class="pre">I2S_Phase_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">phase</span></span>, <a class="reference internal" href="#_CPPv414I2S_PhaseCfg_t" title="I2S_PhaseCfg_t"><span class="n"><span class="pre">I2S_PhaseCfg_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_SetPhaseConfig11I2S_Phase_t14I2S_PhaseCfg_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the phase harware configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> – The phase (I2S_PHASE0 or I2S_PHASE1) </p></li>
<li><p><strong>cfg</strong> – The phase configuration </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_GetPhaseConfig11I2S_Phase_t">
<span id="_CPPv322I2S_HAL_GetPhaseConfig11I2S_Phase_t"></span><span id="_CPPv222I2S_HAL_GetPhaseConfig11I2S_Phase_t"></span><span id="I2S_HAL_GetPhaseConfig__I2S_Phase_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga75f3f59821113b101bdc1604ea5e124b"></span><a class="reference internal" href="#_CPPv414I2S_PhaseCfg_t" title="I2S_PhaseCfg_t"><span class="n"><span class="pre">I2S_PhaseCfg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_GetPhaseConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411I2S_Phase_t" title="I2S_Phase_t"><span class="n"><span class="pre">I2S_Phase_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">phase</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_GetPhaseConfig11I2S_Phase_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get the phase harware configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>phase</strong> – The phase to get (I2S_PHASE0 or I2S_PHASE1) </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The phase configuration </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415I2S_HAL_SetMode10I2S_Mode_t">
<span id="_CPPv315I2S_HAL_SetMode10I2S_Mode_t"></span><span id="_CPPv215I2S_HAL_SetMode10I2S_Mode_t"></span><span id="I2S_HAL_SetMode__I2S_Mode_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga42928258299a4fb5278dc920cd9b0c5b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetMode</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv410I2S_Mode_t" title="I2S_Mode_t"><span class="n"><span class="pre">I2S_Mode_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">mode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415I2S_HAL_SetMode10I2S_Mode_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the I2S master/slave mode configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mode</strong> – The I2S mode </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_SetProtocol14I2S_Protocol_t">
<span id="_CPPv319I2S_HAL_SetProtocol14I2S_Protocol_t"></span><span id="_CPPv219I2S_HAL_SetProtocol14I2S_Protocol_t"></span><span id="I2S_HAL_SetProtocol__I2S_Protocol_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga9c1c3c29ae8197f54de8bf36a9d27b38"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetProtocol</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414I2S_Protocol_t" title="I2S_Protocol_t"><span class="n"><span class="pre">I2S_Protocol_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">protocol</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_SetProtocol14I2S_Protocol_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the I2S protocol. </p>
<p>
I2S Mode : I2S slaves immediately on incoming fsync (no frame debouncing) TDM Mode : I2S trackes frame period (through debouncing). Start of phase data is aligned with start of phase Right Justified mode : I2S tracks frame period (through debouncing). End of phase data is aligned with end of phase </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>protocol</strong> – The I2S protocol</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415I2S_HAL_SetCphab">
<span id="_CPPv315I2S_HAL_SetCphab"></span><span id="_CPPv215I2S_HAL_SetCphab"></span><span id="I2S_HAL_SetCpha__b"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaeb0f310aaf76050bc7f8b7a9c7b40c6b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetCpha</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cpha</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415I2S_HAL_SetCphab" title="Link to this definition"></a><br /></dt>
<dd><p>Set the clock phase of the serial clock. </p>
<p>
false : Generation at falling edge of SCLK, capture at rising edge of SCLK true : Generation at rising edge of SCLK, capture at falling edge of SCLK </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cpha</strong> – Clock Phase</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424I2S_HAL_SetFsyncPolarityb">
<span id="_CPPv324I2S_HAL_SetFsyncPolarityb"></span><span id="_CPPv224I2S_HAL_SetFsyncPolarityb"></span><span id="I2S_HAL_SetFsyncPolarity__b"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga0fd44410891e80849ce687bdee57878f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetFsyncPolarity</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">polarity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424I2S_HAL_SetFsyncPolarityb" title="Link to this definition"></a><br /></dt>
<dd><p>Set the fsync active polarity. </p>
<p>
false : Fsync polarity = 0. Transition of fsync from 1 to 0 indicates the start of the frame, and the start of phase0</p>
<p>true : Fsync polarity = 1. Transition of fsync from 0 to 1 indicates the start of the frame, and the start of phase0 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>polarity</strong> – Fsync active polarity</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426I2S_HAL_SetPhaseLengthMode21I2S_PhaseLengthMode_t">
<span id="_CPPv326I2S_HAL_SetPhaseLengthMode21I2S_PhaseLengthMode_t"></span><span id="_CPPv226I2S_HAL_SetPhaseLengthMode21I2S_PhaseLengthMode_t"></span><span id="I2S_HAL_SetPhaseLengthMode__I2S_PhaseLengthMode_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gab8f8286feab13f4a554deef7ae9a7945"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetPhaseLengthMode</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421I2S_PhaseLengthMode_t" title="I2S_PhaseLengthMode_t"><span class="n"><span class="pre">I2S_PhaseLengthMode_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">mode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426I2S_HAL_SetPhaseLengthMode21I2S_PhaseLengthMode_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the phase0 length mode. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mode</strong> – The phase length mode </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_HAL_SetLsbitFirstb">
<span id="_CPPv321I2S_HAL_SetLsbitFirstb"></span><span id="_CPPv221I2S_HAL_SetLsbitFirstb"></span><span id="I2S_HAL_SetLsbitFirst__b"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga50b08f7c7691af5c96f14866fe2fd1bb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetLsbitFirst</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">en</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_HAL_SetLsbitFirstb" title="Link to this definition"></a><br /></dt>
<dd><p>Set the LSBit first flag. </p>
<p>
false : Most significant bit of audio sample is transferred first true : Least significant bit of audio sample is transferred first </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>en</strong> – LSBit first flag</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_SetLsbyteFirstb">
<span id="_CPPv322I2S_HAL_SetLsbyteFirstb"></span><span id="_CPPv222I2S_HAL_SetLsbyteFirstb"></span><span id="I2S_HAL_SetLsbyteFirst__b"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaa9bea25d8f14ebe14c5d5d118ab09d11"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetLsbyteFirst</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">en</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_SetLsbyteFirstb" title="Link to this definition"></a><br /></dt>
<dd><p>Set the LSByte first flag. </p>
<p>
false : Most significant byte of audio sample is stored as most significant byte of sample in FIFO true : Most significant byte of audio sample is stored as least significant byte of sample in FIFO </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>en</strong> – LSByte first flag</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427I2S_HAL_SetSignExtendEnableb">
<span id="_CPPv327I2S_HAL_SetSignExtendEnableb"></span><span id="_CPPv227I2S_HAL_SetSignExtendEnableb"></span><span id="I2S_HAL_SetSignExtendEnable__b"></span><span class="target" id="d8/d6e/group__i2s__hal_1gab9a3f451d7ff9e93bcb71e239c34c53a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetSignExtendEnable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">en</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427I2S_HAL_SetSignExtendEnableb" title="Link to this definition"></a><br /></dt>
<dd><p>Set the sign extension flag. </p>
<p>
Apply sign extension when audio sample is not a multiple of 8-bits (only applicable for Rx direction) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>en</strong> – True to enable sign extension for 12 and 20 bits samples</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_SetFsyncLength8uint16_t">
<span id="_CPPv322I2S_HAL_SetFsyncLength8uint16_t"></span><span id="_CPPv222I2S_HAL_SetFsyncLength8uint16_t"></span><span id="I2S_HAL_SetFsyncLength__uint16_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga81a832853fe59e1ca08cad9dba7f84a1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetFsyncLength</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_SetFsyncLength8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the fsync length. </p>
<p>
Amount of SCLK cycles the fsync signal keeps its active polarity value (only applicable in master mode) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – The length</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_GetFsyncLengthv">
<span id="_CPPv322I2S_HAL_GetFsyncLengthv"></span><span id="_CPPv222I2S_HAL_GetFsyncLengthv"></span><span id="I2S_HAL_GetFsyncLength__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1gad98f0d949cddbda3031a87b006c3b1e1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_GetFsyncLength</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_GetFsyncLengthv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the fsync length. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The length (amount of SCLK cycles the fsync signal keeps its active polarity value) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414I2S_HAL_Enablev">
<span id="_CPPv314I2S_HAL_Enablev"></span><span id="_CPPv214I2S_HAL_Enablev"></span><span id="I2S_HAL_Enable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1gab352cc10c392757c2fdc9a893a3cd65f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_Enable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414I2S_HAL_Enablev" title="Link to this definition"></a><br /></dt>
<dd><p>Enable the I2S module. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415I2S_HAL_Disablev">
<span id="_CPPv315I2S_HAL_Disablev"></span><span id="_CPPv215I2S_HAL_Disablev"></span><span id="I2S_HAL_Disable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga2e80234e24323c7802be5740c12a1605"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_Disable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415I2S_HAL_Disablev" title="Link to this definition"></a><br /></dt>
<dd><p>Disable the I2S module. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428I2S_HAL_IsI2SOrClocksEnabledv">
<span id="_CPPv328I2S_HAL_IsI2SOrClocksEnabledv"></span><span id="_CPPv228I2S_HAL_IsI2SOrClocksEnabledv"></span><span id="I2S_HAL_IsI2SOrClocksEnabled__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1gaa8bce18d75786577154c876dc3f489ad"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_IsI2SOrClocksEnabled</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428I2S_HAL_IsI2SOrClocksEnabledv" title="Link to this definition"></a><br /></dt>
<dd><p>Get I2S status (enabled or disabled) </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if enable bit or clock(s) bit(s) is/are set </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423I2S_HAL_SetPhase0Length8uint16_t">
<span id="_CPPv323I2S_HAL_SetPhase0Length8uint16_t"></span><span id="_CPPv223I2S_HAL_SetPhase0Length8uint16_t"></span><span id="I2S_HAL_SetPhase0Length__uint16_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gab873e426283b9c1e5f2a0efd279ae60a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetPhase0Length</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423I2S_HAL_SetPhase0Length8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the phase0 length in case it is configured by software. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – The length (amount of SCLK cycles) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423I2S_HAL_GetPhase0Lengthv">
<span id="_CPPv323I2S_HAL_GetPhase0Lengthv"></span><span id="_CPPv223I2S_HAL_GetPhase0Lengthv"></span><span id="I2S_HAL_GetPhase0Length__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga337c4b6a0850ad340243d27626813661"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_GetPhase0Length</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423I2S_HAL_GetPhase0Lengthv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the phase0 length, available when configured by software. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The length (amount of SCLK cycles) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417I2S_HAL_SetConfig9I2S_Cfg_t">
<span id="_CPPv317I2S_HAL_SetConfig9I2S_Cfg_t"></span><span id="_CPPv217I2S_HAL_SetConfig9I2S_Cfg_t"></span><span id="I2S_HAL_SetConfig__I2S_Cfg_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gac229ca41fbcb5be7b3c1a655ac1667cb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetConfig</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49I2S_Cfg_t" title="I2S_Cfg_t"><span class="n"><span class="pre">I2S_Cfg_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417I2S_HAL_SetConfig9I2S_Cfg_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the I2S harware configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> – The I2S configuration </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417I2S_HAL_GetConfigv">
<span id="_CPPv317I2S_HAL_GetConfigv"></span><span id="_CPPv217I2S_HAL_GetConfigv"></span><span id="I2S_HAL_GetConfig__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga652b749a9c00886105179b0fa398ab03"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49I2S_Cfg_t" title="I2S_Cfg_t"><span class="n"><span class="pre">I2S_Cfg_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_GetConfig</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417I2S_HAL_GetConfigv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the I2S harware configuration. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The I2S configuration </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_FSyncEnablev">
<span id="_CPPv319I2S_HAL_FSyncEnablev"></span><span id="_CPPv219I2S_HAL_FSyncEnablev"></span><span id="I2S_HAL_FSyncEnable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga8daa92b5aabdc796fa2f99ae10854ed0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_FSyncEnable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_FSyncEnablev" title="Link to this definition"></a><br /></dt>
<dd><p>Enable the Fsync clock. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420I2S_HAL_FSyncDisablev">
<span id="_CPPv320I2S_HAL_FSyncDisablev"></span><span id="_CPPv220I2S_HAL_FSyncDisablev"></span><span id="I2S_HAL_FSyncDisable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1gab1d6d84b2ba5628901a1a4b3df490d94"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_FSyncDisable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420I2S_HAL_FSyncDisablev" title="Link to this definition"></a><br /></dt>
<dd><p>Disable the Fsync clock. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_HAL_SClkEnablev">
<span id="_CPPv318I2S_HAL_SClkEnablev"></span><span id="_CPPv218I2S_HAL_SClkEnablev"></span><span id="I2S_HAL_SClkEnable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1gacf51c042a9134af411f5be3731f92b43"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SClkEnable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_HAL_SClkEnablev" title="Link to this definition"></a><br /></dt>
<dd><p>Enable the serial clock. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_SClkDisablev">
<span id="_CPPv319I2S_HAL_SClkDisablev"></span><span id="_CPPv219I2S_HAL_SClkDisablev"></span><span id="I2S_HAL_SClkDisable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga36ea63ab27883ffc3b8ef6457f6a05cd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SClkDisable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_SClkDisablev" title="Link to this definition"></a><br /></dt>
<dd><p>Disable the serial clock. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_HAL_MClkEnablev">
<span id="_CPPv318I2S_HAL_MClkEnablev"></span><span id="_CPPv218I2S_HAL_MClkEnablev"></span><span id="I2S_HAL_MClkEnable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga5c8983048ed140c57591e8f07710b56e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_MClkEnable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_HAL_MClkEnablev" title="Link to this definition"></a><br /></dt>
<dd><p>Enable the master clock. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_MClkDisablev">
<span id="_CPPv319I2S_HAL_MClkDisablev"></span><span id="_CPPv219I2S_HAL_MClkDisablev"></span><span id="I2S_HAL_MClkDisable__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga2c7a252e64ae656d13dd320b65da9078"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_MClkDisable</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_MClkDisablev" title="Link to this definition"></a><br /></dt>
<dd><p>Disable the master clock. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_SetTxFifoLimit7uint8_t">
<span id="_CPPv322I2S_HAL_SetTxFifoLimit7uint8_t"></span><span id="_CPPv222I2S_HAL_SetTxFifoLimit7uint8_t"></span><span id="I2S_HAL_SetTxFifoLimit__uint8_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga685241cfb806b73794a71a30998684e5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetTxFifoLimit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">limit</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_SetTxFifoLimit7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the TX FIFO limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>limit</strong> – The limit (0 to 16) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422I2S_HAL_SetRxFifoLimit7uint8_t">
<span id="_CPPv322I2S_HAL_SetRxFifoLimit7uint8_t"></span><span id="_CPPv222I2S_HAL_SetRxFifoLimit7uint8_t"></span><span id="I2S_HAL_SetRxFifoLimit__uint8_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1gafe8109875996d2635197169e619d0a99"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetRxFifoLimit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">limit</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422I2S_HAL_SetRxFifoLimit7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the RX FIFO limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>limit</strong> – The limit (0 to 16) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_SetFsyncDiv8uint32_t">
<span id="_CPPv319I2S_HAL_SetFsyncDiv8uint32_t"></span><span id="_CPPv219I2S_HAL_SetFsyncDiv8uint32_t"></span><span id="I2S_HAL_SetFsyncDiv__uint32_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga4af5875f54a805fe391b018045c24fd8"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetFsyncDiv</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">div</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_SetFsyncDiv8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the frame sync clock divider This function sets the divider for the frame sync clock. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The 16 LSBs are fractional (2.5 = 0x00028000) </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>System clock (48MHz or 24MHz) / div = clock frequency </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_HAL_SetSClkDiv8uint32_t">
<span id="_CPPv318I2S_HAL_SetSClkDiv8uint32_t"></span><span id="_CPPv218I2S_HAL_SetSClkDiv8uint32_t"></span><span id="I2S_HAL_SetSClkDiv__uint32_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga41780a9144e1064a56be72f75de3e098"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetSClkDiv</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">div</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_HAL_SetSClkDiv8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the serial clock divider This function sets the divider for the serial clock. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The 16 LSBs are fractional (2.5 = 0x00028000) </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>System clock (48MHz or 24MHz) / div = clock frequency </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418I2S_HAL_SetMClkDiv8uint32_t">
<span id="_CPPv318I2S_HAL_SetMClkDiv8uint32_t"></span><span id="_CPPv218I2S_HAL_SetMClkDiv8uint32_t"></span><span id="I2S_HAL_SetMClkDiv__uint32_t"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga2e7f24288f7f97951ce4b9087675cdd7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_SetMClkDiv</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">div</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418I2S_HAL_SetMClkDiv8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Set the master clock divider This function sets the divider for the master clock. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The 16 LSBs are fractional (2.5 = 0x00028000) </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>System clock (48MHz or 24MHz) / div = clock frequency </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_HAL_GetSysClkFreqv">
<span id="_CPPv321I2S_HAL_GetSysClkFreqv"></span><span id="_CPPv221I2S_HAL_GetSysClkFreqv"></span><span id="I2S_HAL_GetSysClkFreq__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga86d1cf893c5eadcd1e48deca50f4014f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_GetSysClkFreq</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_HAL_GetSysClkFreqv" title="Link to this definition"></a><br /></dt>
<dd><p>Get system clock frequency [Hz]. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>System clock as uint32_t </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_FlushRxFifov">
<span id="_CPPv319I2S_HAL_FlushRxFifov"></span><span id="_CPPv219I2S_HAL_FlushRxFifov"></span><span id="I2S_HAL_FlushRxFifo__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga873e4507caaf73c83692c8eea31e3848"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_FlushRxFifo</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_FlushRxFifov" title="Link to this definition"></a><br /></dt>
<dd><p>Flush the RX FIFO This function flushes the content of the RX FIFO. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419I2S_HAL_FlushTxFifov">
<span id="_CPPv319I2S_HAL_FlushTxFifov"></span><span id="_CPPv219I2S_HAL_FlushTxFifov"></span><span id="I2S_HAL_FlushTxFifo__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1gac9487a90d87d374d3553c3756b78bd80"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_FlushTxFifo</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419I2S_HAL_FlushTxFifov" title="Link to this definition"></a><br /></dt>
<dd><p>Flush the TX FIFO This function flushes the content of the TX FIFO. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_HAL_IsTxFifoEmptyv">
<span id="_CPPv321I2S_HAL_IsTxFifoEmptyv"></span><span id="_CPPv221I2S_HAL_IsTxFifoEmptyv"></span><span id="I2S_HAL_IsTxFifoEmpty__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga9ee8b7f5005c8fe768a69378adcfc5a5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_IsTxFifoEmpty</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_HAL_IsTxFifoEmptyv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the TX FIFO empty flag. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421I2S_HAL_IsRxFifoEmptyv">
<span id="_CPPv321I2S_HAL_IsRxFifoEmptyv"></span><span id="_CPPv221I2S_HAL_IsRxFifoEmptyv"></span><span id="I2S_HAL_IsRxFifoEmpty__void"></span><span class="target" id="d8/d6e/group__i2s__hal_1ga3a4d94b311660a81c58f914dec24137f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_HAL_IsRxFifoEmpty</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421I2S_HAL_IsRxFifoEmptyv" title="Link to this definition"></a><br /></dt>
<dd><p>Get the RX FIFO empty flag. </p>
</dd></dl>

</div>
<dl class="cpp union">
<dt class="sig sig-object cpp" id="_CPPv49I2S_Cfg_t">
<span id="_CPPv39I2S_Cfg_t"></span><span id="_CPPv29I2S_Cfg_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_Cfg_t</span></span></span><a class="headerlink" href="#_CPPv49I2S_Cfg_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;i2s_hal.h&gt;</em></div>
<p>Config structure of the I2S. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t7cfgBitsE">
<span id="_CPPv3N9I2S_Cfg_t7cfgBitsE"></span><span id="_CPPv2N9I2S_Cfg_t7cfgBitsE"></span><span id="I2S_Cfg_t::cfgBits__uint32_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a11498a2225aa2c8919a84dd518e8eb30"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cfgBits</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t7cfgBitsE" title="Link to this definition"></a><br /></dt>
<dd><p>32-bit access </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t4modeE">
<span id="_CPPv3N9I2S_Cfg_t4modeE"></span><span id="_CPPv2N9I2S_Cfg_t4modeE"></span><span id="I2S_Cfg_t::mode__I2S_Mode_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a470eeb44b441ba87d1f58059baae3a8b"></span><a class="reference internal" href="#_CPPv410I2S_Mode_t" title="I2S_Mode_t"><span class="n"><span class="pre">I2S_Mode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mode</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t4modeE" title="Link to this definition"></a><br /></dt>
<dd><p>I2S mode (master or slave) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t8protocolE">
<span id="_CPPv3N9I2S_Cfg_t8protocolE"></span><span id="_CPPv2N9I2S_Cfg_t8protocolE"></span><span id="I2S_Cfg_t::protocol__I2S_Protocol_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a8f5e67816870cd171ad8e4465b351a46"></span><a class="reference internal" href="#_CPPv414I2S_Protocol_t" title="I2S_Protocol_t"><span class="n"><span class="pre">I2S_Protocol_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">protocol</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t8protocolE" title="Link to this definition"></a><br /></dt>
<dd><p>I2S protocol (TDM, I2S or Right Justified) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t4cphaE">
<span id="_CPPv3N9I2S_Cfg_t4cphaE"></span><span id="_CPPv2N9I2S_Cfg_t4cphaE"></span><span id="I2S_Cfg_t::cpha__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1ad283e5fb815f11daa545a53bdace2fa2"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cpha</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t4cphaE" title="Link to this definition"></a><br /></dt>
<dd><p>Clock Phase of SCLK 0 : Data generation at falling edge, capture at rising 1 : Data generation at rising edge, capture at falling </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t13fsyncPolarityE">
<span id="_CPPv3N9I2S_Cfg_t13fsyncPolarityE"></span><span id="_CPPv2N9I2S_Cfg_t13fsyncPolarityE"></span><span id="I2S_Cfg_t::fsyncPolarity__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1ac2300407353f2b9ed6ab99b090d59b66"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsyncPolarity</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t13fsyncPolarityE" title="Link to this definition"></a><br /></dt>
<dd><p>Fsync polarity. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t6unusedE">
<span id="_CPPv3N9I2S_Cfg_t6unusedE"></span><span id="_CPPv2N9I2S_Cfg_t6unusedE"></span><span id="I2S_Cfg_t::unused__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1ab5c4d7a82709a33455a0624c091d2bf8"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unused</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t6unusedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t15phaseLengthModeE">
<span id="_CPPv3N9I2S_Cfg_t15phaseLengthModeE"></span><span id="_CPPv2N9I2S_Cfg_t15phaseLengthModeE"></span><span id="I2S_Cfg_t::phaseLengthMode__I2S_PhaseLengthMode_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a1ea24d5e5371f32b0a2016c1ab235ff3"></span><a class="reference internal" href="#_CPPv421I2S_PhaseLengthMode_t" title="I2S_PhaseLengthMode_t"><span class="n"><span class="pre">I2S_PhaseLengthMode_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">phaseLengthMode</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t15phaseLengthModeE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase 0 length mode. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t10lsbitFirstE">
<span id="_CPPv3N9I2S_Cfg_t10lsbitFirstE"></span><span id="_CPPv2N9I2S_Cfg_t10lsbitFirstE"></span><span id="I2S_Cfg_t::lsbitFirst__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1ad9420947afd727d444e824fc4b61e697"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lsbitFirst</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t10lsbitFirstE" title="Link to this definition"></a><br /></dt>
<dd><p>Send Least Significant bit first. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t11lsbyteFirstE">
<span id="_CPPv3N9I2S_Cfg_t11lsbyteFirstE"></span><span id="_CPPv2N9I2S_Cfg_t11lsbyteFirstE"></span><span id="I2S_Cfg_t::lsbyteFirst__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a6e9376b6dcd8882d06e7c0cc615d8321"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lsbyteFirst</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t11lsbyteFirstE" title="Link to this definition"></a><br /></dt>
<dd><p>Send Least Significant byte first. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t15I2sSignExtendEnE">
<span id="_CPPv3N9I2S_Cfg_t15I2sSignExtendEnE"></span><span id="_CPPv2N9I2S_Cfg_t15I2sSignExtendEnE"></span><span id="I2S_Cfg_t::I2sSignExtendEn__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1acfafd8c1c309c2c81c11899264011fde"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2sSignExtendEn</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t15I2sSignExtendEnE" title="Link to this definition"></a><br /></dt>
<dd><p>Apply sign extension when data format is 12 or 20 bits. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t8padding0E">
<span id="_CPPv3N9I2S_Cfg_t8padding0E"></span><span id="_CPPv2N9I2S_Cfg_t8padding0E"></span><span id="I2S_Cfg_t::padding0__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a82b88116586b1e1e151c88f46de43060"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">padding0</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t8padding0E" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t8padding1E">
<span id="_CPPv3N9I2S_Cfg_t8padding1E"></span><span id="_CPPv2N9I2S_Cfg_t8padding1E"></span><span id="I2S_Cfg_t::padding1__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a6cd57f118f9c333105ff63db31513d04"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">padding1</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t8padding1E" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t8padding2E">
<span id="_CPPv3N9I2S_Cfg_t8padding2E"></span><span id="_CPPv2N9I2S_Cfg_t8padding2E"></span><span id="I2S_Cfg_t::padding2__uint8_t"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1a3ffaf068d47855d5f609405d7fd0058a"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">padding2</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t8padding2E" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9I2S_Cfg_t4bitsE">
<span id="_CPPv3N9I2S_Cfg_t4bitsE"></span><span id="_CPPv2N9I2S_Cfg_t4bitsE"></span><span class="target" id="d6/ddc/union_i2_s___cfg__t_1ae93def0460f7b71128687a4253bc89b9"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49I2S_Cfg_t" title="I2S_Cfg_t"><span class="n"><span class="pre">I2S_Cfg_t</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bits</span></span></span><a class="headerlink" href="#_CPPv4N9I2S_Cfg_t4bitsE" title="Link to this definition"></a><br /></dt>
<dd><p>bits access </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp union">
<dt class="sig sig-object cpp" id="_CPPv414I2S_PhaseCfg_t">
<span id="_CPPv314I2S_PhaseCfg_t"></span><span id="_CPPv214I2S_PhaseCfg_t"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">I2S_PhaseCfg_t</span></span></span><a class="headerlink" href="#_CPPv414I2S_PhaseCfg_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;i2s_hal.h&gt;</em></div>
<p>Config structure of the I2S phase. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14I2S_PhaseCfg_t7cfgBitsE">
<span id="_CPPv3N14I2S_PhaseCfg_t7cfgBitsE"></span><span id="_CPPv2N14I2S_PhaseCfg_t7cfgBitsE"></span><span id="I2S_PhaseCfg_t::cfgBits__uint32_t"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t_1a592768887ce488266377fb714a0c81b1"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cfgBits</span></span></span><a class="headerlink" href="#_CPPv4N14I2S_PhaseCfg_t7cfgBitsE" title="Link to this definition"></a><br /></dt>
<dd><p>32-bit access </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14I2S_PhaseCfg_t5delayE">
<span id="_CPPv3N14I2S_PhaseCfg_t5delayE"></span><span id="_CPPv2N14I2S_PhaseCfg_t5delayE"></span><span id="I2S_PhaseCfg_t::delay__uint16_t"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t_1adfde800aaf410150d812079642fe5ace"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">delay</span></span></span><a class="headerlink" href="#_CPPv4N14I2S_PhaseCfg_t5delayE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase delay. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14I2S_PhaseCfg_t7unused0E">
<span id="_CPPv3N14I2S_PhaseCfg_t7unused0E"></span><span id="_CPPv2N14I2S_PhaseCfg_t7unused0E"></span><span id="I2S_PhaseCfg_t::unused0__uint16_t"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t_1af4d7e08b749093be9fbb0630caba45d5"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unused0</span></span></span><a class="headerlink" href="#_CPPv4N14I2S_PhaseCfg_t7unused0E" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14I2S_PhaseCfg_t10sampleSizeE">
<span id="_CPPv3N14I2S_PhaseCfg_t10sampleSizeE"></span><span id="_CPPv2N14I2S_PhaseCfg_t10sampleSizeE"></span><span id="I2S_PhaseCfg_t::sampleSize__I2S_SampleSize_t"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t_1a934a629613589f8034e64e8a6aaad1b5"></span><a class="reference internal" href="#_CPPv416I2S_SampleSize_t" title="I2S_SampleSize_t"><span class="n"><span class="pre">I2S_SampleSize_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sampleSize</span></span></span><a class="headerlink" href="#_CPPv4N14I2S_PhaseCfg_t10sampleSizeE" title="Link to this definition"></a><br /></dt>
<dd><p>Phase sample size. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14I2S_PhaseCfg_t7unused1E">
<span id="_CPPv3N14I2S_PhaseCfg_t7unused1E"></span><span id="_CPPv2N14I2S_PhaseCfg_t7unused1E"></span><span id="I2S_PhaseCfg_t::unused1__uint16_t"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t_1a35a1b4fd8d693044232c10fefd5ccc42"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unused1</span></span></span><a class="headerlink" href="#_CPPv4N14I2S_PhaseCfg_t7unused1E" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14I2S_PhaseCfg_t4bitsE">
<span id="_CPPv3N14I2S_PhaseCfg_t4bitsE"></span><span id="_CPPv2N14I2S_PhaseCfg_t4bitsE"></span><span class="target" id="d3/dff/union_i2_s___phase_cfg__t_1afa44aba97290db82ac52c5c6bea377db"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414I2S_PhaseCfg_t" title="I2S_PhaseCfg_t"><span class="n"><span class="pre">I2S_PhaseCfg_t</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bits</span></span></span><a class="headerlink" href="#_CPPv4N14I2S_PhaseCfg_t4bitsE" title="Link to this definition"></a><br /></dt>
<dd><p>bit access </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="change-log">
<h2>Change Log<a class="headerlink" href="#change-log" title="Link to this heading"></a></h2>
<section id="version-1-0-0">
<h3>Version 1.0.0<a class="headerlink" href="#version-1-0-0" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Rework DMA accesses to prevent audio glitches from high priority interrupts</p></li>
<li><p>Updated I2S sample application to use refactored I2S driver</p></li>
</ul>
</section>
<section id="version-0-1-5">
<h3>Version 0.1.5<a class="headerlink" href="#version-0-1-5" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The DMA channels (for TX and RX operations) can be set dynamically.</p></li>
</ul>
</section>
<section id="version-0-1-4">
<h3>Version 0.1.4<a class="headerlink" href="#version-0-1-4" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>New function to stop the I2S transactions and empty the transaction queue (I2S_StopTransactions).</p></li>
</ul>
</section>
<section id="version-0-1-3">
<h3>Version 0.1.3<a class="headerlink" href="#version-0-1-3" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Simplified and improved HAL functions (accesses to I2S registers).</p></li>
</ul>
</section>
<section id="version-0-1-2">
<h3>Version 0.1.2<a class="headerlink" href="#version-0-1-2" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Doxygen comments cleaned.</p></li>
<li><p>Improved the documentation.</p></li>
</ul>
</section>
<section id="version-0-1-1">
<h3>Version 0.1.1<a class="headerlink" href="#version-0-1-1" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Created i2s_module.c/h in order to separate the functionalities related to the module.</p></li>
<li><p>HAL functions renamed (I2S -&gt; I2S_HAL).</p></li>
</ul>
</section>
<section id="version-0-1-0">
<h3>Version 0.1.0<a class="headerlink" href="#version-0-1-0" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Initial Version.</p></li>
<li><p>Support basic functionalities.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../i2c/index.html" class="btn btn-neutral float-left" title="I2C Master Driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../pml/index.html" class="btn btn-neutral float-right" title="PML Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2024, EM Microelectronic.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>