<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Platform Developer’s Guide &mdash; em | bleu platform 1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=665bc78d" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=29a6c3e3"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Getting Started" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: LightSlateGray" >

          
          
          <a href="index.html" class="icon icon-home">
            em | bleu platform
              <img src="_static/logo_h_small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Platform Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audience">Audience</a></li>
<li class="toctree-l3"><a class="reference internal" href="#abbreviations">Abbreviations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-context">System Context</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-configuration">System Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#architecture">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#drivers">Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous">Asynchronous</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-blocking">Non-Blocking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#state">State</a></li>
<li class="toctree-l3"><a class="reference internal" href="#always-succeeds">Always Succeeds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-instances">Multiple Instances</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#folder-organization">Folder Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#porting">Porting</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: LightSlateGray" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">em | bleu platform</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Platform Developer’s Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pal-dg.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="platform-developer-s-guide">
<span id="pal-dg"></span><h1>Platform Developer’s Guide<a class="headerlink" href="#platform-developer-s-guide" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>This document is the Developer’s Guide for the em | bleu Platform Abstraction Layer (PAL) software.</p>
<section id="audience">
<h3>Audience<a class="headerlink" href="#audience" title="Link to this heading"></a></h3>
<p>This book is written for experienced software engineers who might or might not have experience with em | bleu products. Such engineers typically have experience writing Bluetooth applications but might have limited experience with em | bleu software. The reader is assumed to have embedded C software experience.</p>
</section>
<section id="abbreviations">
<h3>Abbreviations<a class="headerlink" href="#abbreviations" title="Link to this heading"></a></h3>
<p>Definitions of abbreviations used in this document are listed below:</p>
<ul class="simple">
<li><p>BB: Baseband</p></li>
<li><p>BLE: Bluetooth Low Energy</p></li>
<li><p>ISR: Interrupt Service Routine</p></li>
<li><p>LED: Light Emitting Diode</p></li>
<li><p>LL: Link Layer</p></li>
<li><p>LTK: Long Term Key</p></li>
<li><p>PAL: Paltform Abstraction Layer</p></li>
<li><p>SoC: System on Chip</p></li>
<li><p>SPI: Serial Peripheral Interface</p></li>
<li><p>TWI: Two Wire Interface</p></li>
<li><p>UART: Universal Asynchronous Receiver/Transmitter</p></li>
<li><p>WSF: Wireless Software Foundation</p></li>
</ul>
</section>
</section>
<section id="system-context">
<h2>System Context<a class="headerlink" href="#system-context" title="Link to this heading"></a></h2>
<p>PAL consists of one or more platform dependent drivers. These drivers implement required functionality of platform independent protocol software systems such as the following:</p>
<ul class="simple">
<li><p>em | bleu Host</p></li>
<li><p>em | bleu Controller</p></li>
</ul>
<p>Not all drivers needs implementation in order to achieve a functional em | bleu system. Only dependent routines called by the protocol components requires implementation.</p>
<p>PAL is dependent on the underlying hardware platform’s BSP.</p>
<section id="system-configuration">
<h3>System Configuration<a class="headerlink" href="#system-configuration" title="Link to this heading"></a></h3>
<p>Two possible PAL configurations are possible.</p>
<p>em | bleu stand-alone builds its own sample applications and includes PAL for specific targets for various vendor platforms.</p>
<a class="reference internal image-reference" href="_images/st_alone_conf_2x.png"><img alt="_images/st_alone_conf_2x.png" src="_images/st_alone_conf_2x.png" style="width: 300px;" /></a>
<p><strong>Figure 2-1.</strong> Stand Alone Configuration.</p>
<p>PAL allows em | bleu software integration into a silicon vendor’s SDK. PAL is implemented as glue logic to the silicon vendor’s drivers.</p>
<a class="reference internal image-reference" href="_images/sdk_conf_2x.png"><img alt="_images/sdk_conf_2x.png" src="_images/sdk_conf_2x.png" style="width: 350px;" /></a>
<p><strong>Figure 2-2.</strong> Silicon Vendor SDK Configuration.</p>
</section>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Link to this heading"></a></h2>
<p>This section describes the software architecture concepts used by PAL.</p>
<section id="drivers">
<h3>Drivers<a class="headerlink" href="#drivers" title="Link to this heading"></a></h3>
<p>PAL is separated into individual drivers typically implementing either:</p>
<ul class="simple">
<li><p>peripheral in a SoC (e.g. TWI, UART, etc.)</p></li>
<li><p>components on board (e.g. LED, buttons, etc.)</p></li>
<li><p>devices/IC on board (e.g. audio amplifier, I/O expander, etc.)</p></li>
</ul>
</section>
<section id="asynchronous">
<h3>Asynchronous<a class="headerlink" href="#asynchronous" title="Link to this heading"></a></h3>
<p>Asynchronous operations use completion callbacks. Callbacks are typically called in the ISR context. Client callback routines are expected to return immediately without blocking.</p>
</section>
<section id="non-blocking">
<h3>Non-Blocking<a class="headerlink" href="#non-blocking" title="Link to this heading"></a></h3>
<p>PAL clients expect drivers to return immediately with minimal delay. Driver implementations do not busy wait for an operation to complete. Rather, a callback is used to signal the completion of operations.</p>
</section>
<section id="state">
<h3>State<a class="headerlink" href="#state" title="Link to this heading"></a></h3>
<p>Some drivers externally expose state. The state can be used to optionally poll for current operational behavior. State is not needed for valid functional operation by the client. However, polling the driver state can be used for debugging and testing.</p>
</section>
<section id="always-succeeds">
<h3>Always Succeeds<a class="headerlink" href="#always-succeeds" title="Link to this heading"></a></h3>
<p>Clients expect operations to always succeed and always complete. This allows clients to simplify error handling code paths.</p>
<p>For example, setting LED always succeeds without error. Another example, UART write should not fail and its operation always completes.</p>
<p>A few exceptions exists. For example, the BB driver may fail an operation and inform the client of the failure.</p>
</section>
<section id="multiple-instances">
<h3>Multiple Instances<a class="headerlink" href="#multiple-instances" title="Link to this heading"></a></h3>
<p>Some peripherals (e.g. UART) may have multiple instantiations in an SoC. Clients will initialize each required instance. An instance ID returned at initialization of the resource is used to distinguish operations between peripheral instances.</p>
</section>
</section>
<section id="folder-organization">
<h2>Folder Organization<a class="headerlink" href="#folder-organization" title="Link to this heading"></a></h2>
<p>The contents of the platform component folder the table below:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Directory</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>docs</p></td>
<td class="text-left"><p>Documentation</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>external</p></td>
<td class="text-left"><p>External IC devices (i.e. on board or extender board)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>include</p></td>
<td class="text-left"><p>Public PAL API</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>targets</p></td>
<td class="text-left"><p>Platform target sources</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>test</p></td>
<td class="text-left"><p>Unit tests</p></td>
</tr>
</tbody>
</table>
</section>
<section id="porting">
<h2>Porting<a class="headerlink" href="#porting" title="Link to this heading"></a></h2>
<p>Each application project vary on driver requirements. To determine application requirements, simply compile the application without PAL implementation. Examine the linker errors to determine which drivers are required for the application.</p>
<!-- Consult PAL APIs for further details regarding porting individual drivers. --></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 EM Microelectronic.  All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>